2022-11-04 00:24:43.999 +01:00 [INF] User profile is available. Using 'C:\Users\Filip\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-11-04 00:24:44.516 +01:00 [INF] Now listening on: https://localhost:7145
2022-11-04 00:24:44.516 +01:00 [INF] Now listening on: http://localhost:5145
2022-11-04 00:24:44.519 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-04 00:24:44.520 +01:00 [INF] Hosting environment: Development
2022-11-04 00:24:44.520 +01:00 [INF] Content root path: C:\Users\Work\source\repos\CarDealer\CarDealer\
2022-11-04 00:24:45.728 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/swagger/index.html - -
2022-11-04 00:24:46.178 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/_framework/aspnetcore-browser-refresh.js - -
2022-11-04 00:24:46.190 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/_framework/aspnetcore-browser-refresh.js - - - 200 11988 application/javascript;+charset=utf-8 9.9427ms
2022-11-04 00:24:46.191 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/swagger/index.html - - - 200 - text/html;charset=utf-8 467.9504ms
2022-11-04 00:24:46.281 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/_vs/browserLink - -
2022-11-04 00:24:46.347 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 65.9737ms
2022-11-04 00:24:46.512 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/swagger/v1/swagger.json - -
2022-11-04 00:24:46.714 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 202.6569ms
2022-11-04 00:25:46.614 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7145/api/Auth/login application/json 53
2022-11-04 00:25:46.626 +01:00 [INF] CORS policy execution successful.
2022-11-04 00:25:46.736 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.AuthController.Login (CarDealer)'
2022-11-04 00:25:46.759 +01:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(CarDealer.Domain.Auth.LoginDto) on controller CarDealer.Controllers.AuthController (CarDealer).
2022-11-04 00:25:48.145 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 00:25:49.342 +01:00 [INF] Executed DbCommand (80ms) [Parameters=[@__req_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[LastName], [u].[PasswordHash], [u].[PasswordSalt], [u].[RefreshToken], [u].[Role], [u].[TokenCreated], [u].[TokenExpires], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__req_Username_0
2022-11-04 00:25:49.759 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;
2022-11-04 00:25:49.788 +01:00 [INF] Executing OkObjectResult, writing value of type 'CarDealer.Models.Token'.
2022-11-04 00:25:49.798 +01:00 [INF] Executed action CarDealer.Controllers.AuthController.Login (CarDealer) in 3032.5904ms
2022-11-04 00:25:49.798 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.AuthController.Login (CarDealer)'
2022-11-04 00:25:49.806 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7145/api/Auth/login application/json 53 - 200 - application/json;+charset=utf-8 3192.4555ms
2022-11-04 00:26:03.979 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/api/CarManufacturer/GetAllMake - -
2022-11-04 00:26:03.988 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.CarManufacturerController.GetAllCarManufacturers (CarDealer)'
2022-11-04 00:26:03.989 +01:00 [INF] Route matched with {action = "GetAllCarManufacturers", controller = "CarManufacturer"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllCarManufacturers() on controller CarDealer.Controllers.CarManufacturerController (CarDealer).
2022-11-04 00:26:04.107 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 00:26:04.252 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Country], [c].[Make], [c0].[Id], [c0].[CarManufacturerId], [c0].[CarType], [c0].[Hp], [c0].[Make], [c0].[Model], [c0].[Seats], [c0].[Year]
FROM [CarManufacturers] AS [c]
LEFT JOIN [Cars] AS [c0] ON [c].[Id] = [c0].[CarManufacturerId]
ORDER BY [c].[Id]
2022-11-04 00:26:04.293 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarDealer.Models.CarManufacturer, CarDealer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-04 00:26:04.299 +01:00 [INF] Executed action CarDealer.Controllers.CarManufacturerController.GetAllCarManufacturers (CarDealer) in 309.999ms
2022-11-04 00:26:04.299 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.CarManufacturerController.GetAllCarManufacturers (CarDealer)'
2022-11-04 00:26:04.299 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/api/CarManufacturer/GetAllMake - - - 200 - application/json;+charset=utf-8 319.4700ms
2022-11-04 00:26:27.603 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/api/Car - -
2022-11-04 00:26:27.699 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.CarController.GetAll (CarDealer)'
2022-11-04 00:26:27.700 +01:00 [INF] Route matched with {action = "GetAll", controller = "Car"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller CarDealer.Controllers.CarController (CarDealer).
2022-11-04 00:26:27.745 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 00:26:27.749 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CarManufacturerId], [c].[CarType], [c].[Hp], [c].[Make], [c].[Model], [c].[Seats], [c].[Year]
FROM [Cars] AS [c]
2022-11-04 00:26:27.761 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarDealer.Domain.GetCarDto, CarDealer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-04 00:26:27.762 +01:00 [INF] Executed action CarDealer.Controllers.CarController.GetAll (CarDealer) in 62.6371ms
2022-11-04 00:26:27.762 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.CarController.GetAll (CarDealer)'
2022-11-04 00:26:27.762 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/api/Car - - - 200 - application/json;+charset=utf-8 159.5766ms
2022-11-04 00:26:45.404 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7145/api/Car application/json 118
2022-11-04 00:26:45.405 +01:00 [INF] CORS policy execution successful.
2022-11-04 00:26:45.406 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.CarController.UpdateCar (CarDealer)'
2022-11-04 00:26:45.408 +01:00 [INF] Route matched with {action = "UpdateCar", controller = "Car"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult UpdateCar(CarDealer.Domain.GetCarDto) on controller CarDealer.Controllers.CarController (CarDealer).
2022-11-04 00:26:45.420 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 00:26:45.425 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CarManufacturerId], [c].[CarType], [c].[Hp], [c].[Make], [c].[Model], [c].[Seats], [c].[Year]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__id_0
2022-11-04 00:26:45.440 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Cars] SET [Year] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;
2022-11-04 00:26:45.442 +01:00 [INF] Executing OkObjectResult, writing value of type 'CarDealer.Domain.GetCarDto'.
2022-11-04 00:26:45.443 +01:00 [INF] Executed action CarDealer.Controllers.CarController.UpdateCar (CarDealer) in 34.8771ms
2022-11-04 00:26:45.443 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.CarController.UpdateCar (CarDealer)'
2022-11-04 00:26:45.443 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7145/api/Car application/json 118 - 200 - application/json;+charset=utf-8 38.5814ms
2022-11-04 00:26:52.872 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/api/Car - -
2022-11-04 00:26:52.873 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.CarController.GetAll (CarDealer)'
2022-11-04 00:26:52.873 +01:00 [INF] Route matched with {action = "GetAll", controller = "Car"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller CarDealer.Controllers.CarController (CarDealer).
2022-11-04 00:26:52.876 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 00:26:52.878 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CarManufacturerId], [c].[CarType], [c].[Hp], [c].[Make], [c].[Model], [c].[Seats], [c].[Year]
FROM [Cars] AS [c]
2022-11-04 00:26:52.879 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarDealer.Domain.GetCarDto, CarDealer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-04 00:26:52.879 +01:00 [INF] Executed action CarDealer.Controllers.CarController.GetAll (CarDealer) in 5.4644ms
2022-11-04 00:26:52.879 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.CarController.GetAll (CarDealer)'
2022-11-04 00:26:52.879 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/api/Car - - - 200 - application/json;+charset=utf-8 6.9546ms
2022-11-04 00:27:50.958 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/api/Car - -
2022-11-04 00:27:50.969 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.CarController.GetAll (CarDealer)'
2022-11-04 00:27:50.970 +01:00 [INF] Route matched with {action = "GetAll", controller = "Car"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller CarDealer.Controllers.CarController (CarDealer).
2022-11-04 00:27:50.971 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 00:27:50.972 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CarManufacturerId], [c].[CarType], [c].[Hp], [c].[Make], [c].[Model], [c].[Seats], [c].[Year]
FROM [Cars] AS [c]
2022-11-04 00:27:50.972 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarDealer.Domain.GetCarDto, CarDealer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-04 00:27:50.973 +01:00 [INF] Executed action CarDealer.Controllers.CarController.GetAll (CarDealer) in 2.3118ms
2022-11-04 00:27:50.973 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.CarController.GetAll (CarDealer)'
2022-11-04 00:27:50.973 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/api/Car - - - 200 - application/json;+charset=utf-8 15.5195ms
2022-11-04 00:27:55.579 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/api/CarManufacturer/GetAllMake - -
2022-11-04 00:27:55.580 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.CarManufacturerController.GetAllCarManufacturers (CarDealer)'
2022-11-04 00:27:55.580 +01:00 [INF] Route matched with {action = "GetAllCarManufacturers", controller = "CarManufacturer"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllCarManufacturers() on controller CarDealer.Controllers.CarManufacturerController (CarDealer).
2022-11-04 00:27:55.580 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 00:27:55.586 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Country], [c].[Make], [c0].[Id], [c0].[CarManufacturerId], [c0].[CarType], [c0].[Hp], [c0].[Make], [c0].[Model], [c0].[Seats], [c0].[Year]
FROM [CarManufacturers] AS [c]
LEFT JOIN [Cars] AS [c0] ON [c].[Id] = [c0].[CarManufacturerId]
ORDER BY [c].[Id]
2022-11-04 00:27:55.586 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarDealer.Models.CarManufacturer, CarDealer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-04 00:27:55.586 +01:00 [INF] Executed action CarDealer.Controllers.CarManufacturerController.GetAllCarManufacturers (CarDealer) in 6.4378ms
2022-11-04 00:27:55.586 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.CarManufacturerController.GetAllCarManufacturers (CarDealer)'
2022-11-04 00:27:55.586 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/api/CarManufacturer/GetAllMake - - - 200 - application/json;+charset=utf-8 7.9165ms
2022-11-04 00:28:09.164 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7145/api/Car?id=2 application/json 103
2022-11-04 00:28:09.165 +01:00 [INF] CORS policy execution successful.
2022-11-04 00:28:09.165 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.CarController.AddCar (CarDealer)'
2022-11-04 00:28:09.168 +01:00 [INF] Route matched with {action = "AddCar", controller = "Car"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddCar(Int32, CarDealer.Domain.AddCarDto) on controller CarDealer.Controllers.CarController (CarDealer).
2022-11-04 00:28:09.183 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 00:28:09.208 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [CarManufacturers] AS [c]
        WHERE [c].[Id] <> @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-11-04 00:28:09.309 +01:00 [ERR] Car manufacturer with Id : 2 does not exist
2022-11-04 00:28:09.309 +01:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2022-11-04 00:28:09.309 +01:00 [INF] Executed action CarDealer.Controllers.CarController.AddCar (CarDealer) in 141.7149ms
2022-11-04 00:28:09.309 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.CarController.AddCar (CarDealer)'
2022-11-04 00:28:09.309 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7145/api/Car?id=2 application/json 103 - 2 - text/plain;+charset=utf-8 144.9972ms
2022-11-04 00:28:24.755 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7145/api/Auth/register application/json 171
2022-11-04 00:28:24.756 +01:00 [INF] CORS policy execution successful.
2022-11-04 00:28:24.756 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.AuthController.Register (CarDealer)'
2022-11-04 00:28:24.757 +01:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Register(CarDealer.Domain.Auth.RegisterDto) on controller CarDealer.Controllers.AuthController (CarDealer).
2022-11-04 00:28:24.802 +01:00 [ERR] Please enter a valid email format.
2022-11-04 00:28:24.802 +01:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2022-11-04 00:28:24.802 +01:00 [INF] Executed action CarDealer.Controllers.AuthController.Register (CarDealer) in 44.9789ms
2022-11-04 00:28:24.802 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.AuthController.Register (CarDealer)'
2022-11-04 00:28:24.802 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7145/api/Auth/register application/json 171 - 400 - text/plain;+charset=utf-8 47.3802ms
2022-11-04 00:28:51.234 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7145/api/Auth/register application/json 177
2022-11-04 00:28:51.236 +01:00 [INF] CORS policy execution successful.
2022-11-04 00:28:51.237 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.AuthController.Register (CarDealer)'
2022-11-04 00:28:51.240 +01:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Register(CarDealer.Domain.Auth.RegisterDto) on controller CarDealer.Controllers.AuthController (CarDealer).
2022-11-04 00:28:51.276 +01:00 [ERR] Please enter a valid username
2022-11-04 00:28:51.276 +01:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2022-11-04 00:28:51.276 +01:00 [INF] Executed action CarDealer.Controllers.AuthController.Register (CarDealer) in 36.1083ms
2022-11-04 00:28:51.276 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.AuthController.Register (CarDealer)'
2022-11-04 00:28:51.276 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7145/api/Auth/register application/json 177 - 400 - text/plain;+charset=utf-8 42.6059ms
2022-11-04 00:29:17.757 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7145/api/Auth/Refresh application/json 485
2022-11-04 00:29:17.760 +01:00 [INF] CORS policy execution successful.
2022-11-04 00:29:17.763 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.AuthController.GetRefreshToken (CarDealer)'
2022-11-04 00:29:17.766 +01:00 [INF] Route matched with {action = "GetRefreshToken", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetRefreshToken(CarDealer.Models.Token) on controller CarDealer.Controllers.AuthController (CarDealer).
2022-11-04 00:29:17.769 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 00:29:17.778 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__token_RefreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[LastName], [u].[PasswordHash], [u].[PasswordSalt], [u].[RefreshToken], [u].[Role], [u].[TokenCreated], [u].[TokenExpires], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[RefreshToken] = @__token_RefreshToken_0
2022-11-04 00:29:17.779 +01:00 [INF] Executing OkObjectResult, writing value of type 'CarDealer.Models.Token'.
2022-11-04 00:29:17.779 +01:00 [INF] Executed action CarDealer.Controllers.AuthController.GetRefreshToken (CarDealer) in 13.1099ms
2022-11-04 00:29:17.779 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.AuthController.GetRefreshToken (CarDealer)'
2022-11-04 00:29:17.779 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7145/api/Auth/Refresh application/json 485 - 200 - application/json;+charset=utf-8 22.8974ms
2022-11-04 00:39:02.848 +01:00 [INF] User profile is available. Using 'C:\Users\Filip\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-11-04 00:39:03.214 +01:00 [INF] Now listening on: https://localhost:7145
2022-11-04 00:39:03.214 +01:00 [INF] Now listening on: http://localhost:5145
2022-11-04 00:39:03.225 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-04 00:39:03.225 +01:00 [INF] Hosting environment: Development
2022-11-04 00:39:03.225 +01:00 [INF] Content root path: C:\Users\Work\source\repos\CarDealer\CarDealer\
2022-11-04 00:39:04.020 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/swagger/index.html - -
2022-11-04 00:39:04.415 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/_framework/aspnetcore-browser-refresh.js - -
2022-11-04 00:39:04.424 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/_framework/aspnetcore-browser-refresh.js - - - 200 11988 application/javascript;+charset=utf-8 7.0873ms
2022-11-04 00:39:04.436 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/swagger/index.html - - - 200 - text/html;charset=utf-8 419.7675ms
2022-11-04 00:39:04.520 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/_vs/browserLink - -
2022-11-04 00:39:04.562 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 41.4719ms
2022-11-04 00:39:04.830 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/swagger/v1/swagger.json - -
2022-11-04 00:39:05.035 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 204.9462ms
2022-11-04 00:39:25.530 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7145/api/Auth/login application/json 53
2022-11-04 00:39:25.542 +01:00 [INF] CORS policy execution successful.
2022-11-04 00:39:25.636 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.AuthController.Login (CarDealer)'
2022-11-04 00:39:25.657 +01:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(CarDealer.Domain.Auth.LoginDto) on controller CarDealer.Controllers.AuthController (CarDealer).
2022-11-04 00:39:26.841 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 00:39:27.812 +01:00 [INF] Executed DbCommand (60ms) [Parameters=[@__req_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[LastName], [u].[PasswordHash], [u].[PasswordSalt], [u].[RefreshToken], [u].[Role], [u].[TokenCreated], [u].[TokenExpires], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__req_Username_0
2022-11-04 00:39:28.183 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;
2022-11-04 00:39:28.212 +01:00 [INF] Executing OkObjectResult, writing value of type 'CarDealer.Models.Token'.
2022-11-04 00:39:28.221 +01:00 [INF] Executed action CarDealer.Controllers.AuthController.Login (CarDealer) in 2557.9514ms
2022-11-04 00:39:28.221 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.AuthController.Login (CarDealer)'
2022-11-04 00:39:28.230 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7145/api/Auth/login application/json 53 - 200 - application/json;+charset=utf-8 2699.8459ms
2022-11-04 00:39:42.476 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7145/api/Car application/json 103
2022-11-04 00:39:42.485 +01:00 [INF] CORS policy execution successful.
2022-11-04 00:39:42.580 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.CarController.AddCar (CarDealer)'
2022-11-04 00:39:42.582 +01:00 [INF] Route matched with {action = "AddCar", controller = "Car"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddCar(Int32, CarDealer.Domain.AddCarDto) on controller CarDealer.Controllers.CarController (CarDealer).
2022-11-04 00:39:42.716 +01:00 [INF] Executed action CarDealer.Controllers.CarController.AddCar (CarDealer) in 133.2548ms
2022-11-04 00:39:42.718 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.CarController.AddCar (CarDealer)'
2022-11-04 00:39:42.719 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidCastException: Unable to cast object of type 'System.Int32' to type 'System.String'.
   at System.ComponentModel.DataAnnotations.StringLengthAttribute.IsValid(Object value)
   at System.ComponentModel.DataAnnotations.ValidationAttribute.IsValid(Object value, ValidationContext validationContext)
   at System.ComponentModel.DataAnnotations.ValidationAttribute.GetValidationResult(Object value, ValidationContext validationContext)
   at Microsoft.AspNetCore.Mvc.DataAnnotations.DataAnnotationsModelValidator.Validate(ModelValidationContext validationContext)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Validation.ValidationVisitor.ValidateNode()
   at Microsoft.AspNetCore.Mvc.ModelBinding.Validation.ValidationVisitor.VisitSimpleType()
   at Microsoft.AspNetCore.Mvc.ModelBinding.Validation.ValidationVisitor.VisitImplementation(ModelMetadata& metadata, String& key, Object model)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Validation.ValidationVisitor.Visit(ModelMetadata metadata, String key, Object model)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Validation.ValidationVisitor.VisitChildren(IValidationStrategy strategy)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Validation.ValidationVisitor.VisitComplexType(IValidationStrategy defaultStrategy)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Validation.ValidationVisitor.VisitImplementation(ModelMetadata& metadata, String& key, Object model)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Validation.ValidationVisitor.Visit(ModelMetadata metadata, String key, Object model)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Validation.ValidationVisitor.Validate(ModelMetadata metadata, String key, Object model, Boolean alwaysValidateAtTopLevel, Object container)
   at Microsoft.AspNetCore.Mvc.ModelBinding.ObjectModelValidator.Validate(ActionContext actionContext, ValidationStateDictionary validationState, String prefix, Object model, ModelMetadata metadata, Object container)
   at Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder.EnforceBindRequiredAndValidate(ObjectModelValidator baseObjectValidator, ActionContext actionContext, ParameterDescriptor parameter, ModelMetadata metadata, ModelBindingContext modelBindingContext, ModelBindingResult modelBindingResult, Object container)
   at Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder.BindModelAsync(ActionContext actionContext, IModelBinder modelBinder, IValueProvider valueProvider, ParameterDescriptor parameter, ModelMetadata metadata, Object value, Object container)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerBinderDelegateProvider.<>c__DisplayClass0_0.<<CreateBinderDelegate>g__Bind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-11-04 00:39:42.773 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7145/api/Car application/json 103 - 500 - text/plain;+charset=utf-8 297.4455ms
2022-11-04 00:41:28.554 +01:00 [INF] User profile is available. Using 'C:\Users\Filip\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-11-04 00:41:29.039 +01:00 [INF] Now listening on: https://localhost:7145
2022-11-04 00:41:29.039 +01:00 [INF] Now listening on: http://localhost:5145
2022-11-04 00:41:29.042 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-04 00:41:29.042 +01:00 [INF] Hosting environment: Development
2022-11-04 00:41:29.043 +01:00 [INF] Content root path: C:\Users\Work\source\repos\CarDealer\CarDealer\
2022-11-04 00:41:29.824 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/swagger/index.html - -
2022-11-04 00:41:30.186 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/_framework/aspnetcore-browser-refresh.js - -
2022-11-04 00:41:30.197 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/_framework/aspnetcore-browser-refresh.js - - - 200 11988 application/javascript;+charset=utf-8 9.2031ms
2022-11-04 00:41:30.198 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/swagger/index.html - - - 200 - text/html;charset=utf-8 379.3901ms
2022-11-04 00:41:30.292 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/_vs/browserLink - -
2022-11-04 00:41:30.327 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 34.7706ms
2022-11-04 00:41:30.473 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/swagger/v1/swagger.json - -
2022-11-04 00:41:30.701 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 227.2027ms
2022-11-04 00:41:58.314 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/api/Car - -
2022-11-04 00:41:58.713 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.CarController.GetAll (CarDealer)'
2022-11-04 00:41:58.724 +01:00 [INF] Route matched with {action = "GetAll", controller = "Car"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller CarDealer.Controllers.CarController (CarDealer).
2022-11-04 00:42:00.145 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 00:42:01.005 +01:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CarManufacturerId], [c].[CarType], [c].[Hp], [c].[Make], [c].[Model], [c].[Seats], [c].[Year]
FROM [Cars] AS [c]
2022-11-04 00:42:01.124 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarDealer.Domain.GetCarDto, CarDealer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-04 00:42:01.136 +01:00 [INF] Executed action CarDealer.Controllers.CarController.GetAll (CarDealer) in 2406.058ms
2022-11-04 00:42:01.137 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.CarController.GetAll (CarDealer)'
2022-11-04 00:42:01.146 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/api/Car - - - 200 - application/json;+charset=utf-8 2832.1484ms
2022-11-04 00:42:27.260 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7145/api/Car?id=1 application/json 103
2022-11-04 00:42:27.269 +01:00 [INF] CORS policy execution successful.
2022-11-04 00:42:27.271 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.CarController.AddCar (CarDealer)'
2022-11-04 00:42:27.284 +01:00 [INF] Route matched with {action = "AddCar", controller = "Car"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddCar(Int32, CarDealer.Domain.AddCarDto) on controller CarDealer.Controllers.CarController (CarDealer).
2022-11-04 00:42:27.340 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2022-11-04 00:42:27.343 +01:00 [INF] Executed action CarDealer.Controllers.CarController.AddCar (CarDealer) in 58.2011ms
2022-11-04 00:42:27.343 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.CarController.AddCar (CarDealer)'
2022-11-04 00:42:27.343 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7145/api/Car?id=1 application/json 103 - 400 - application/problem+json;+charset=utf-8 98.8765ms
2022-11-04 17:02:22.556 +01:00 [INF] User profile is available. Using 'C:\Users\Filip\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-11-04 17:02:23.747 +01:00 [INF] Now listening on: https://localhost:7145
2022-11-04 17:02:23.747 +01:00 [INF] Now listening on: http://localhost:5145
2022-11-04 17:02:23.751 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-04 17:02:23.752 +01:00 [INF] Hosting environment: Development
2022-11-04 17:02:23.752 +01:00 [INF] Content root path: C:\Users\Work\source\repos\CarDealer\CarDealer\
2022-11-04 17:02:25.229 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/swagger/index.html - -
2022-11-04 17:02:27.034 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/swagger/index.html - - - 200 - text/html;charset=utf-8 1817.4699ms
2022-11-04 17:02:27.263 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/_vs/browserLink - -
2022-11-04 17:02:27.264 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/_framework/aspnetcore-browser-refresh.js - -
2022-11-04 17:02:27.272 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/_framework/aspnetcore-browser-refresh.js - - - 200 11988 application/javascript;+charset=utf-8 8.0268ms
2022-11-04 17:02:27.465 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 202.0113ms
2022-11-04 17:02:27.589 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/swagger/v1/swagger.json - -
2022-11-04 17:02:27.900 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 310.4092ms
2022-11-04 17:02:43.775 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7145/api/Auth/login application/json 53
2022-11-04 17:02:43.782 +01:00 [INF] CORS policy execution successful.
2022-11-04 17:02:43.896 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.AuthController.Login (CarDealer)'
2022-11-04 17:02:43.922 +01:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(CarDealer.Domain.Auth.LoginDto) on controller CarDealer.Controllers.AuthController (CarDealer).
2022-11-04 17:02:45.159 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 17:02:46.232 +01:00 [INF] Executed DbCommand (65ms) [Parameters=[@__req_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[LastName], [u].[PasswordHash], [u].[PasswordSalt], [u].[RefreshToken], [u].[Role], [u].[TokenCreated], [u].[TokenExpires], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__req_Username_0
2022-11-04 17:02:46.625 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;
2022-11-04 17:02:46.656 +01:00 [INF] Executing OkObjectResult, writing value of type 'CarDealer.Models.Token'.
2022-11-04 17:02:46.665 +01:00 [INF] Executed action CarDealer.Controllers.AuthController.Login (CarDealer) in 2736.8539ms
2022-11-04 17:02:46.666 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.AuthController.Login (CarDealer)'
2022-11-04 17:02:46.674 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7145/api/Auth/login application/json 53 - 200 - application/json;+charset=utf-8 2899.1595ms
2022-11-04 17:03:01.660 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/api/Car - -
2022-11-04 17:03:01.760 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.CarController.GetAll (CarDealer)'
2022-11-04 17:03:01.761 +01:00 [INF] Route matched with {action = "GetAll", controller = "Car"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller CarDealer.Controllers.CarController (CarDealer).
2022-11-04 17:03:01.875 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 17:03:01.894 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CarManufacturerId], [c].[CarType], [c].[Hp], [c].[Make], [c].[Model], [c].[Seats], [c].[Year]
FROM [Cars] AS [c]
2022-11-04 17:03:01.923 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarDealer.Domain.GetCarDto, CarDealer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-04 17:03:01.927 +01:00 [INF] Executed action CarDealer.Controllers.CarController.GetAll (CarDealer) in 165.5128ms
2022-11-04 17:03:01.927 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.CarController.GetAll (CarDealer)'
2022-11-04 17:03:01.927 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/api/Car - - - 200 - application/json;+charset=utf-8 267.5869ms
2022-11-04 17:03:30.231 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7145/api/Car?make=Bmw application/json 86
2022-11-04 17:03:30.231 +01:00 [INF] CORS policy execution successful.
2022-11-04 17:03:30.233 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.CarController.AddCar (CarDealer)'
2022-11-04 17:03:30.236 +01:00 [INF] Route matched with {action = "AddCar", controller = "Car"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddCar(System.String, CarDealer.Domain.AddCarDto) on controller CarDealer.Controllers.CarController (CarDealer).
2022-11-04 17:03:30.304 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 17:03:30.369 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Country], [c].[Make]
FROM [CarManufacturers] AS [c]
WHERE LOWER([c].[Make]) = @__ToLower_0
2022-11-04 17:03:30.544 +01:00 [ERR] Failed executing DbCommand (45ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Cars] ([CarManufacturerId], [CarType], [Hp], [Make], [Model], [Seats], [Year])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [Id]
FROM [Cars]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-11-04 17:03:30.563 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CarGarage.DataAccess.DataContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
2022-11-04 17:03:30.695 +01:00 [FTL] A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
2022-11-04 17:03:30.696 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2022-11-04 17:03:30.696 +01:00 [INF] Executed action CarDealer.Controllers.CarController.AddCar (CarDealer) in 460.3991ms
2022-11-04 17:03:30.696 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.CarController.AddCar (CarDealer)'
2022-11-04 17:03:30.717 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7145/api/Car?make=Bmw application/json 86 - 400 - text/plain;+charset=utf-8 486.6345ms
2022-11-04 17:04:16.410 +01:00 [INF] User profile is available. Using 'C:\Users\Filip\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-11-04 17:04:16.816 +01:00 [INF] Now listening on: https://localhost:7145
2022-11-04 17:04:16.816 +01:00 [INF] Now listening on: http://localhost:5145
2022-11-04 17:04:16.821 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-04 17:04:16.821 +01:00 [INF] Hosting environment: Development
2022-11-04 17:04:16.821 +01:00 [INF] Content root path: C:\Users\Work\source\repos\CarDealer\CarDealer\
2022-11-04 17:04:17.726 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/swagger/index.html - -
2022-11-04 17:04:18.103 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/swagger/index.html - - - 200 - text/html;charset=utf-8 380.5848ms
2022-11-04 17:04:18.220 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/_vs/browserLink - -
2022-11-04 17:04:18.224 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/_framework/aspnetcore-browser-refresh.js - -
2022-11-04 17:04:18.244 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/_framework/aspnetcore-browser-refresh.js - - - 200 11988 application/javascript;+charset=utf-8 20.5507ms
2022-11-04 17:04:18.258 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 38.0510ms
2022-11-04 17:04:18.399 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/swagger/v1/swagger.json - -
2022-11-04 17:04:18.604 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 205.0495ms
2022-11-04 17:05:01.130 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7145/api/Car?make=Bmw application/json 86
2022-11-04 17:05:01.142 +01:00 [INF] CORS policy execution successful.
2022-11-04 17:05:01.453 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.CarController.AddCar (CarDealer)'
2022-11-04 17:05:01.475 +01:00 [INF] Route matched with {action = "AddCar", controller = "Car"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddCar(System.String, CarDealer.Domain.AddCarDto) on controller CarDealer.Controllers.CarController (CarDealer).
2022-11-04 17:05:02.739 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 17:05:03.749 +01:00 [INF] Executed DbCommand (61ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Country], [c].[Make]
FROM [CarManufacturers] AS [c]
WHERE LOWER([c].[Make]) = @__ToLower_0
2022-11-04 17:05:04.017 +01:00 [ERR] Failed executing DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Cars] ([CarManufacturerId], [CarType], [Hp], [Make], [Model], [Seats], [Year])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [Id]
FROM [Cars]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-11-04 17:05:04.061 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'CarGarage.DataAccess.DataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Cars_CarManufacturers_CarManufacturerId". The conflict occurred in database "CarDealer", table "dbo.CarManufacturers", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:4b8dc330-a287-46db-8de2-6778b5c339b7
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Cars_CarManufacturers_CarManufacturerId". The conflict occurred in database "CarDealer", table "dbo.CarManufacturers", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:4b8dc330-a287-46db-8de2-6778b5c339b7
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2022-11-04 17:05:04.175 +01:00 [FTL] An error occurred while saving the entity changes. See the inner exception for details.
2022-11-04 17:05:04.181 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2022-11-04 17:05:04.187 +01:00 [INF] Executed action CarDealer.Controllers.CarController.AddCar (CarDealer) in 2706.9527ms
2022-11-04 17:05:04.188 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.CarController.AddCar (CarDealer)'
2022-11-04 17:05:04.197 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7145/api/Car?make=Bmw application/json 86 - 400 - text/plain;+charset=utf-8 3066.4480ms
2022-11-04 17:05:53.169 +01:00 [INF] User profile is available. Using 'C:\Users\Filip\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-11-04 17:05:53.644 +01:00 [INF] Now listening on: https://localhost:7145
2022-11-04 17:05:53.644 +01:00 [INF] Now listening on: http://localhost:5145
2022-11-04 17:05:53.649 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-04 17:05:53.649 +01:00 [INF] Hosting environment: Development
2022-11-04 17:05:53.649 +01:00 [INF] Content root path: C:\Users\Work\source\repos\CarDealer\CarDealer\
2022-11-04 17:05:54.501 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/swagger/index.html - -
2022-11-04 17:05:55.354 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/swagger/index.html - - - 200 - text/html;charset=utf-8 859.8797ms
2022-11-04 17:05:55.460 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/_vs/browserLink - -
2022-11-04 17:05:55.461 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/_framework/aspnetcore-browser-refresh.js - -
2022-11-04 17:05:55.489 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/_framework/aspnetcore-browser-refresh.js - - - 200 11988 application/javascript;+charset=utf-8 28.2491ms
2022-11-04 17:05:55.507 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 47.4409ms
2022-11-04 17:05:55.642 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/swagger/v1/swagger.json - -
2022-11-04 17:05:55.885 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 243.0878ms
2022-11-04 17:06:28.067 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7145/api/Car?make=Bmw application/json 83
2022-11-04 17:06:28.074 +01:00 [INF] CORS policy execution successful.
2022-11-04 17:06:28.411 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.CarController.AddCar (CarDealer)'
2022-11-04 17:06:28.440 +01:00 [INF] Route matched with {action = "AddCar", controller = "Car"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddCar(System.String, CarDealer.Domain.AddCarDto) on controller CarDealer.Controllers.CarController (CarDealer).
2022-11-04 17:06:29.862 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 17:06:30.852 +01:00 [INF] Executed DbCommand (64ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Country], [c].[Make]
FROM [CarManufacturers] AS [c]
WHERE LOWER([c].[Make]) = @__ToLower_0
2022-11-04 17:06:31.138 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Cars] ([CarManufacturerId], [CarType], [Hp], [Make], [Model], [Seats], [Year])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [Id]
FROM [Cars]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-11-04 17:06:31.191 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CarManufacturerId], [c].[CarType], [c].[Hp], [c].[Make], [c].[Model], [c].[Seats], [c].[Year]
FROM [Cars] AS [c]
2022-11-04 17:06:31.202 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarDealer.Domain.GetCarDto, CarDealer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-04 17:06:31.214 +01:00 [INF] Executed action CarDealer.Controllers.CarController.AddCar (CarDealer) in 2767.3929ms
2022-11-04 17:06:31.214 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.CarController.AddCar (CarDealer)'
2022-11-04 17:06:31.227 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7145/api/Car?make=Bmw application/json 83 - 200 - application/json;+charset=utf-8 3159.4563ms
2022-11-04 17:06:39.482 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/api/CarManufacturer/GetAllMake - -
2022-11-04 17:06:39.485 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.CarManufacturerController.GetAllCarManufacturers (CarDealer)'
2022-11-04 17:06:39.486 +01:00 [INF] Route matched with {action = "GetAllCarManufacturers", controller = "CarManufacturer"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllCarManufacturers() on controller CarDealer.Controllers.CarManufacturerController (CarDealer).
2022-11-04 17:06:39.506 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 17:06:39.598 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Country], [c].[Make], [c0].[Id], [c0].[CarManufacturerId], [c0].[CarType], [c0].[Hp], [c0].[Make], [c0].[Model], [c0].[Seats], [c0].[Year]
FROM [CarManufacturers] AS [c]
LEFT JOIN [Cars] AS [c0] ON [c].[Id] = [c0].[CarManufacturerId]
ORDER BY [c].[Id]
2022-11-04 17:06:39.603 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarDealer.Models.CarManufacturer, CarDealer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-04 17:06:39.605 +01:00 [INF] Executed action CarDealer.Controllers.CarManufacturerController.GetAllCarManufacturers (CarDealer) in 119.2429ms
2022-11-04 17:06:39.605 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.CarManufacturerController.GetAllCarManufacturers (CarDealer)'
2022-11-04 17:06:39.605 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/api/CarManufacturer/GetAllMake - - - 200 - application/json;+charset=utf-8 123.0181ms
2022-11-04 17:07:09.558 +01:00 [INF] User profile is available. Using 'C:\Users\Filip\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-11-04 17:07:10.026 +01:00 [INF] Now listening on: https://localhost:7145
2022-11-04 17:07:10.026 +01:00 [INF] Now listening on: http://localhost:5145
2022-11-04 17:07:10.032 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-04 17:07:10.032 +01:00 [INF] Hosting environment: Development
2022-11-04 17:07:10.032 +01:00 [INF] Content root path: C:\Users\Work\source\repos\CarDealer\CarDealer\
2022-11-04 17:07:10.649 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/swagger/index.html - -
2022-11-04 17:07:11.119 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/swagger/index.html - - - 200 - text/html;charset=utf-8 475.3203ms
2022-11-04 17:07:11.209 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/_vs/browserLink - -
2022-11-04 17:07:11.209 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/_framework/aspnetcore-browser-refresh.js - -
2022-11-04 17:07:11.230 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/_framework/aspnetcore-browser-refresh.js - - - 200 11988 application/javascript;+charset=utf-8 20.7410ms
2022-11-04 17:07:11.245 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 35.3601ms
2022-11-04 17:07:11.359 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/swagger/v1/swagger.json - -
2022-11-04 17:07:11.555 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 195.2515ms
2022-11-04 17:07:20.315 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/api/CarManufacturer/GetAllMake - -
2022-11-04 17:07:20.633 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.CarManufacturerController.GetAllCarManufacturers (CarDealer)'
2022-11-04 17:07:20.642 +01:00 [INF] Route matched with {action = "GetAllCarManufacturers", controller = "CarManufacturer"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllCarManufacturers() on controller CarDealer.Controllers.CarManufacturerController (CarDealer).
2022-11-04 17:07:21.838 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 17:07:22.872 +01:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Country], [c].[Make], [c0].[Id], [c0].[CarManufacturerId], [c0].[CarType], [c0].[Hp], [c0].[Make], [c0].[Model], [c0].[Seats], [c0].[Year]
FROM [CarManufacturers] AS [c]
LEFT JOIN [Cars] AS [c0] ON [c].[Id] = [c0].[CarManufacturerId]
ORDER BY [c].[Id]
2022-11-04 17:07:23.020 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarDealer.Models.CarManufacturer, CarDealer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-04 17:07:23.033 +01:00 [INF] Executed action CarDealer.Controllers.CarManufacturerController.GetAllCarManufacturers (CarDealer) in 2385.7819ms
2022-11-04 17:07:23.034 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.CarManufacturerController.GetAllCarManufacturers (CarDealer)'
2022-11-04 17:07:23.042 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/api/CarManufacturer/GetAllMake - - - 200 - application/json;+charset=utf-8 2726.5041ms
2022-11-04 17:07:42.531 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7145/api/Car?make=Bmw application/json 87
2022-11-04 17:07:42.537 +01:00 [INF] CORS policy execution successful.
2022-11-04 17:07:42.539 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.CarController.AddCar (CarDealer)'
2022-11-04 17:07:42.551 +01:00 [INF] Route matched with {action = "AddCar", controller = "Car"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddCar(System.String, CarDealer.Domain.AddCarDto) on controller CarDealer.Controllers.CarController (CarDealer).
2022-11-04 17:07:42.628 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 17:07:42.735 +01:00 [INF] Executed DbCommand (39ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Country], [c].[Make]
FROM [CarManufacturers] AS [c]
WHERE LOWER([c].[Make]) = @__ToLower_0
2022-11-04 17:07:42.885 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Cars] ([CarManufacturerId], [CarType], [Hp], [Make], [Model], [Seats], [Year])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [Id]
FROM [Cars]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-11-04 17:07:42.955 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CarManufacturerId], [c].[CarType], [c].[Hp], [c].[Make], [c].[Model], [c].[Seats], [c].[Year]
FROM [Cars] AS [c]
2022-11-04 17:07:42.959 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarDealer.Domain.GetCarDto, CarDealer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-04 17:07:42.962 +01:00 [INF] Executed action CarDealer.Controllers.CarController.AddCar (CarDealer) in 410.3603ms
2022-11-04 17:07:42.962 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.CarController.AddCar (CarDealer)'
2022-11-04 17:07:42.962 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7145/api/Car?make=Bmw application/json 87 - 200 - application/json;+charset=utf-8 430.8838ms
2022-11-04 17:07:48.016 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/api/CarManufacturer/GetAllMake - -
2022-11-04 17:07:48.020 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.CarManufacturerController.GetAllCarManufacturers (CarDealer)'
2022-11-04 17:07:48.020 +01:00 [INF] Route matched with {action = "GetAllCarManufacturers", controller = "CarManufacturer"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllCarManufacturers() on controller CarDealer.Controllers.CarManufacturerController (CarDealer).
2022-11-04 17:07:48.063 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 17:07:48.069 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Country], [c].[Make], [c0].[Id], [c0].[CarManufacturerId], [c0].[CarType], [c0].[Hp], [c0].[Make], [c0].[Model], [c0].[Seats], [c0].[Year]
FROM [CarManufacturers] AS [c]
LEFT JOIN [Cars] AS [c0] ON [c].[Id] = [c0].[CarManufacturerId]
ORDER BY [c].[Id]
2022-11-04 17:07:48.069 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarDealer.Models.CarManufacturer, CarDealer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-04 17:07:48.070 +01:00 [INF] Executed action CarDealer.Controllers.CarManufacturerController.GetAllCarManufacturers (CarDealer) in 49.5066ms
2022-11-04 17:07:48.070 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.CarManufacturerController.GetAllCarManufacturers (CarDealer)'
2022-11-04 17:07:48.070 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/api/CarManufacturer/GetAllMake - - - 200 - application/json;+charset=utf-8 53.2928ms
2022-11-04 17:08:19.351 +01:00 [INF] User profile is available. Using 'C:\Users\Filip\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-11-04 17:08:19.809 +01:00 [INF] Now listening on: https://localhost:7145
2022-11-04 17:08:19.817 +01:00 [INF] Now listening on: http://localhost:5145
2022-11-04 17:08:19.821 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-04 17:08:19.822 +01:00 [INF] Hosting environment: Development
2022-11-04 17:08:19.822 +01:00 [INF] Content root path: C:\Users\Work\source\repos\CarDealer\CarDealer\
2022-11-04 17:08:20.558 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/swagger/index.html - -
2022-11-04 17:08:20.936 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/swagger/index.html - - - 200 - text/html;charset=utf-8 382.1082ms
2022-11-04 17:08:21.041 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/_vs/browserLink - -
2022-11-04 17:08:21.041 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/_framework/aspnetcore-browser-refresh.js - -
2022-11-04 17:08:21.056 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/_framework/aspnetcore-browser-refresh.js - - - 200 11988 application/javascript;+charset=utf-8 14.3108ms
2022-11-04 17:08:21.084 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 43.2686ms
2022-11-04 17:08:21.205 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/swagger/v1/swagger.json - -
2022-11-04 17:08:21.390 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 185.3223ms
2022-11-04 17:08:37.961 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7145/api/Car?make=Merc application/json 83
2022-11-04 17:08:37.968 +01:00 [INF] CORS policy execution successful.
2022-11-04 17:08:38.274 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.CarController.AddCar (CarDealer)'
2022-11-04 17:08:38.295 +01:00 [INF] Route matched with {action = "AddCar", controller = "Car"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddCar(System.String, CarDealer.Domain.AddCarDto) on controller CarDealer.Controllers.CarController (CarDealer).
2022-11-04 17:08:39.576 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 17:08:40.562 +01:00 [INF] Executed DbCommand (60ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Country], [c].[Make]
FROM [CarManufacturers] AS [c]
WHERE LOWER([c].[Make]) = @__ToLower_0
2022-11-04 17:08:40.679 +01:00 [ERR] Car manufacturer MERC does not exist
2022-11-04 17:08:40.685 +01:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2022-11-04 17:08:40.692 +01:00 [INF] Executed action CarDealer.Controllers.CarController.AddCar (CarDealer) in 2391.5064ms
2022-11-04 17:08:40.692 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.CarController.AddCar (CarDealer)'
2022-11-04 17:08:40.702 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7145/api/Car?make=Merc application/json 83 - 404 - text/plain;+charset=utf-8 2740.9446ms
2022-11-04 17:21:16.372 +01:00 [INF] User profile is available. Using 'C:\Users\Filip\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-11-04 17:21:16.739 +01:00 [INF] Now listening on: https://localhost:7145
2022-11-04 17:21:16.739 +01:00 [INF] Now listening on: http://localhost:5145
2022-11-04 17:21:16.742 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-04 17:21:16.742 +01:00 [INF] Hosting environment: Development
2022-11-04 17:21:16.743 +01:00 [INF] Content root path: C:\Users\Work\source\repos\CarDealer\CarDealer\
2022-11-04 17:21:17.368 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/swagger/index.html - -
2022-11-04 17:21:17.778 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/swagger/index.html - - - 200 - text/html;charset=utf-8 415.9011ms
2022-11-04 17:21:17.888 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/_vs/browserLink - -
2022-11-04 17:21:17.888 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/_framework/aspnetcore-browser-refresh.js - -
2022-11-04 17:21:17.901 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/_framework/aspnetcore-browser-refresh.js - - - 200 11988 application/javascript;+charset=utf-8 12.1640ms
2022-11-04 17:21:17.919 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 31.3087ms
2022-11-04 17:21:18.042 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/swagger/v1/swagger.json - -
2022-11-04 17:21:18.248 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 205.2531ms
2022-11-04 17:21:30.555 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7145/api/Auth/login application/json 53
2022-11-04 17:21:30.562 +01:00 [INF] CORS policy execution successful.
2022-11-04 17:21:30.646 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.AuthController.Login (CarDealer)'
2022-11-04 17:21:30.668 +01:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(CarDealer.Domain.Auth.LoginDto) on controller CarDealer.Controllers.AuthController (CarDealer).
2022-11-04 17:21:31.806 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 17:21:32.794 +01:00 [INF] Executed DbCommand (61ms) [Parameters=[@__req_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[LastName], [u].[PasswordHash], [u].[PasswordSalt], [u].[RefreshToken], [u].[Role], [u].[TokenCreated], [u].[TokenExpires], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__req_Username_0
2022-11-04 17:21:33.182 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;
2022-11-04 17:21:33.213 +01:00 [INF] Executing OkObjectResult, writing value of type 'CarDealer.Models.Token'.
2022-11-04 17:21:33.222 +01:00 [INF] Executed action CarDealer.Controllers.AuthController.Login (CarDealer) in 2548.5261ms
2022-11-04 17:21:33.222 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.AuthController.Login (CarDealer)'
2022-11-04 17:21:33.231 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7145/api/Auth/login application/json 53 - 200 - application/json;+charset=utf-8 2675.2069ms
2022-11-04 17:21:45.884 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/api/Car - -
2022-11-04 17:21:45.975 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.CarController.GetAll (CarDealer)'
2022-11-04 17:21:45.976 +01:00 [INF] Route matched with {action = "GetAll", controller = "Car"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller CarDealer.Controllers.CarController (CarDealer).
2022-11-04 17:21:46.081 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 17:21:46.093 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CarManufacturerId], [c].[CarType], [c].[Hp], [c].[Make], [c].[Model], [c].[Seats], [c].[Year]
FROM [Cars] AS [c]
2022-11-04 17:21:46.122 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarDealer.Domain.GetCarDto, CarDealer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-04 17:21:46.126 +01:00 [INF] Executed action CarDealer.Controllers.CarController.GetAll (CarDealer) in 149.9677ms
2022-11-04 17:21:46.127 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.CarController.GetAll (CarDealer)'
2022-11-04 17:21:46.127 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/api/Car - - - 200 - application/json;+charset=utf-8 242.9567ms
2022-11-04 17:22:23.950 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7145/api/Car application/json 114
2022-11-04 17:22:23.964 +01:00 [INF] CORS policy execution successful.
2022-11-04 17:22:23.967 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.CarController.UpdateCar (CarDealer)'
2022-11-04 17:22:23.968 +01:00 [INF] Route matched with {action = "UpdateCar", controller = "Car"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult UpdateCar(CarDealer.Domain.GetCarDto) on controller CarDealer.Controllers.CarController (CarDealer).
2022-11-04 17:22:24.021 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 17:22:24.027 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CarManufacturerId], [c].[CarType], [c].[Hp], [c].[Make], [c].[Model], [c].[Seats], [c].[Year]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__id_0
2022-11-04 17:22:24.057 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p7='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Cars] SET [CarManufacturerId] = @p0, [CarType] = @p1, [Hp] = @p2, [Make] = @p3, [Model] = @p4, [Seats] = @p5, [Year] = @p6
WHERE [Id] = @p7;
SELECT @@ROWCOUNT;
2022-11-04 17:22:24.059 +01:00 [INF] Executing OkObjectResult, writing value of type 'CarDealer.Domain.GetCarDto'.
2022-11-04 17:22:24.059 +01:00 [INF] Executed action CarDealer.Controllers.CarController.UpdateCar (CarDealer) in 90.8272ms
2022-11-04 17:22:24.059 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.CarController.UpdateCar (CarDealer)'
2022-11-04 17:22:24.060 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7145/api/Car application/json 114 - 200 - application/json;+charset=utf-8 109.1455ms
2022-11-04 17:22:35.026 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/api/Car - -
2022-11-04 17:22:35.028 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.CarController.GetAll (CarDealer)'
2022-11-04 17:22:35.028 +01:00 [INF] Route matched with {action = "GetAll", controller = "Car"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller CarDealer.Controllers.CarController (CarDealer).
2022-11-04 17:22:35.032 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 17:22:35.034 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CarManufacturerId], [c].[CarType], [c].[Hp], [c].[Make], [c].[Model], [c].[Seats], [c].[Year]
FROM [Cars] AS [c]
2022-11-04 17:22:35.034 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarDealer.Domain.GetCarDto, CarDealer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-04 17:22:35.034 +01:00 [INF] Executed action CarDealer.Controllers.CarController.GetAll (CarDealer) in 5.5829ms
2022-11-04 17:22:35.034 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.CarController.GetAll (CarDealer)'
2022-11-04 17:22:35.034 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/api/Car - - - 200 - application/json;+charset=utf-8 8.1240ms
2022-11-04 17:22:42.851 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/api/CarManufacturer/GetAllMake - -
2022-11-04 17:22:42.852 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.CarManufacturerController.GetAllCarManufacturers (CarDealer)'
2022-11-04 17:22:42.853 +01:00 [INF] Route matched with {action = "GetAllCarManufacturers", controller = "CarManufacturer"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllCarManufacturers() on controller CarDealer.Controllers.CarManufacturerController (CarDealer).
2022-11-04 17:22:42.856 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 17:22:42.989 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Country], [c].[Make], [c0].[Id], [c0].[CarManufacturerId], [c0].[CarType], [c0].[Hp], [c0].[Make], [c0].[Model], [c0].[Seats], [c0].[Year]
FROM [CarManufacturers] AS [c]
LEFT JOIN [Cars] AS [c0] ON [c].[Id] = [c0].[CarManufacturerId]
ORDER BY [c].[Id]
2022-11-04 17:22:43.009 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarDealer.Models.CarManufacturer, CarDealer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-04 17:22:43.011 +01:00 [INF] Executed action CarDealer.Controllers.CarManufacturerController.GetAllCarManufacturers (CarDealer) in 158.1128ms
2022-11-04 17:22:43.012 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.CarManufacturerController.GetAllCarManufacturers (CarDealer)'
2022-11-04 17:22:43.012 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/api/CarManufacturer/GetAllMake - - - 200 - application/json;+charset=utf-8 160.5151ms
2022-11-04 17:26:02.302 +01:00 [INF] User profile is available. Using 'C:\Users\Filip\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-11-04 17:26:02.722 +01:00 [INF] Now listening on: https://localhost:7145
2022-11-04 17:26:02.723 +01:00 [INF] Now listening on: http://localhost:5145
2022-11-04 17:26:02.726 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-04 17:26:02.726 +01:00 [INF] Hosting environment: Development
2022-11-04 17:26:02.726 +01:00 [INF] Content root path: C:\Users\Work\source\repos\CarDealer\CarDealer\
2022-11-04 17:26:03.404 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/swagger/index.html - -
2022-11-04 17:26:03.874 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/swagger/index.html - - - 200 - text/html;charset=utf-8 473.8697ms
2022-11-04 17:26:03.996 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/_vs/browserLink - -
2022-11-04 17:26:03.996 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/_framework/aspnetcore-browser-refresh.js - -
2022-11-04 17:26:04.011 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/_framework/aspnetcore-browser-refresh.js - - - 200 11988 application/javascript;+charset=utf-8 15.0215ms
2022-11-04 17:26:04.032 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 36.2569ms
2022-11-04 17:26:04.152 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/swagger/v1/swagger.json - -
2022-11-04 17:26:04.363 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 211.0918ms
2022-11-04 17:26:14.603 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7145/api/Auth/login application/json 53
2022-11-04 17:26:14.610 +01:00 [INF] CORS policy execution successful.
2022-11-04 17:26:14.697 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.AuthController.Login (CarDealer)'
2022-11-04 17:26:14.717 +01:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(CarDealer.Domain.Auth.LoginDto) on controller CarDealer.Controllers.AuthController (CarDealer).
2022-11-04 17:26:15.875 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 17:26:16.847 +01:00 [INF] Executed DbCommand (62ms) [Parameters=[@__req_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[LastName], [u].[PasswordHash], [u].[PasswordSalt], [u].[RefreshToken], [u].[Role], [u].[TokenCreated], [u].[TokenExpires], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__req_Username_0
2022-11-04 17:26:17.222 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;
2022-11-04 17:26:17.251 +01:00 [INF] Executing OkObjectResult, writing value of type 'CarDealer.Models.Token'.
2022-11-04 17:26:17.264 +01:00 [INF] Executed action CarDealer.Controllers.AuthController.Login (CarDealer) in 2537.9106ms
2022-11-04 17:26:17.265 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.AuthController.Login (CarDealer)'
2022-11-04 17:26:17.275 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7145/api/Auth/login application/json 53 - 200 - application/json;+charset=utf-8 2671.4058ms
2022-11-04 17:26:30.363 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/api/Car - -
2022-11-04 17:26:30.451 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.CarController.GetAll (CarDealer)'
2022-11-04 17:26:30.452 +01:00 [INF] Route matched with {action = "GetAll", controller = "Car"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller CarDealer.Controllers.CarController (CarDealer).
2022-11-04 17:26:30.556 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 17:26:30.567 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CarManufacturerId], [c].[CarType], [c].[Hp], [c].[Make], [c].[Model], [c].[Seats], [c].[Year]
FROM [Cars] AS [c]
2022-11-04 17:26:30.596 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarDealer.Domain.GetCarDto, CarDealer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-04 17:26:30.600 +01:00 [INF] Executed action CarDealer.Controllers.CarController.GetAll (CarDealer) in 147.191ms
2022-11-04 17:26:30.600 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.CarController.GetAll (CarDealer)'
2022-11-04 17:26:30.600 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/api/Car - - - 200 - application/json;+charset=utf-8 236.7102ms
2022-11-04 17:26:50.593 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7145/api/Car application/json 92
2022-11-04 17:26:50.594 +01:00 [INF] CORS policy execution successful.
2022-11-04 17:26:50.602 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.CarController.UpdateCar (CarDealer)'
2022-11-04 17:26:50.603 +01:00 [INF] Route matched with {action = "UpdateCar", controller = "Car"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult UpdateCar(CarDealer.Domain.UpdateCarDto) on controller CarDealer.Controllers.CarController (CarDealer).
2022-11-04 17:26:50.667 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 17:26:50.673 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CarManufacturerId], [c].[CarType], [c].[Hp], [c].[Make], [c].[Model], [c].[Seats], [c].[Year]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__id_0
2022-11-04 17:26:50.776 +01:00 [FTL] Missing type map configuration or unsupported mapping.

Mapping types:
UpdateCarDto -> Car
CarDealer.Domain.UpdateCarDto -> CarDealer.Models.Car
2022-11-04 17:26:50.776 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2022-11-04 17:26:50.776 +01:00 [INF] Executed action CarDealer.Controllers.CarController.UpdateCar (CarDealer) in 173.0173ms
2022-11-04 17:26:50.776 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.CarController.UpdateCar (CarDealer)'
2022-11-04 17:26:50.776 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7145/api/Car application/json 92 - 400 - text/plain;+charset=utf-8 183.3630ms
2022-11-04 17:34:35.224 +01:00 [INF] User profile is available. Using 'C:\Users\Filip\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-11-04 17:34:35.643 +01:00 [INF] Now listening on: https://localhost:7145
2022-11-04 17:34:35.644 +01:00 [INF] Now listening on: http://localhost:5145
2022-11-04 17:34:35.647 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-04 17:34:35.648 +01:00 [INF] Hosting environment: Development
2022-11-04 17:34:35.648 +01:00 [INF] Content root path: C:\Users\Work\source\repos\CarDealer\CarDealer\
2022-11-04 17:34:36.362 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/swagger/index.html - -
2022-11-04 17:34:36.727 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/swagger/index.html - - - 200 - text/html;charset=utf-8 370.7125ms
2022-11-04 17:34:36.838 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/_vs/browserLink - -
2022-11-04 17:34:36.838 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/_framework/aspnetcore-browser-refresh.js - -
2022-11-04 17:34:36.852 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/_framework/aspnetcore-browser-refresh.js - - - 200 11988 application/javascript;+charset=utf-8 13.2263ms
2022-11-04 17:34:36.872 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 33.5708ms
2022-11-04 17:34:37.005 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/swagger/v1/swagger.json - -
2022-11-04 17:34:37.203 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 197.2835ms
2022-11-04 17:34:48.533 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7145/api/Auth/login application/json 53
2022-11-04 17:34:48.540 +01:00 [INF] CORS policy execution successful.
2022-11-04 17:34:48.621 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.AuthController.Login (CarDealer)'
2022-11-04 17:34:48.641 +01:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(CarDealer.Domain.Auth.LoginDto) on controller CarDealer.Controllers.AuthController (CarDealer).
2022-11-04 17:34:49.789 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 17:34:50.770 +01:00 [INF] Executed DbCommand (61ms) [Parameters=[@__req_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[LastName], [u].[PasswordHash], [u].[PasswordSalt], [u].[RefreshToken], [u].[Role], [u].[TokenCreated], [u].[TokenExpires], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__req_Username_0
2022-11-04 17:34:51.154 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;
2022-11-04 17:34:51.186 +01:00 [INF] Executing OkObjectResult, writing value of type 'CarDealer.Models.Token'.
2022-11-04 17:34:51.195 +01:00 [INF] Executed action CarDealer.Controllers.AuthController.Login (CarDealer) in 2547.9825ms
2022-11-04 17:34:51.195 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.AuthController.Login (CarDealer)'
2022-11-04 17:34:51.206 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7145/api/Auth/login application/json 53 - 200 - application/json;+charset=utf-8 2672.6403ms
2022-11-04 17:35:07.840 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7145/api/Car application/json 114
2022-11-04 17:35:07.842 +01:00 [INF] CORS policy execution successful.
2022-11-04 17:35:07.927 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.CarController.UpdateCar (CarDealer)'
2022-11-04 17:35:07.928 +01:00 [INF] Route matched with {action = "UpdateCar", controller = "Car"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult UpdateCar(CarDealer.Domain.GetCarDto) on controller CarDealer.Controllers.CarController (CarDealer).
2022-11-04 17:35:08.037 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 17:35:08.053 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CarManufacturerId], [c].[CarType], [c].[Hp], [c].[Make], [c].[Model], [c].[Seats], [c].[Year]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__id_0
2022-11-04 17:35:08.141 +01:00 [ERR] Car with Id : 0 does not exist
2022-11-04 17:35:08.142 +01:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2022-11-04 17:35:08.142 +01:00 [INF] Executed action CarDealer.Controllers.CarController.UpdateCar (CarDealer) in 213.8799ms
2022-11-04 17:35:08.142 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.CarController.UpdateCar (CarDealer)'
2022-11-04 17:35:08.142 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7145/api/Car application/json 114 - 0 - text/plain;+charset=utf-8 302.0043ms
2022-11-04 17:35:18.133 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7145/api/Car application/json 113
2022-11-04 17:35:18.133 +01:00 [INF] CORS policy execution successful.
2022-11-04 17:35:18.136 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.CarController.UpdateCar (CarDealer)'
2022-11-04 17:35:18.137 +01:00 [INF] Route matched with {action = "UpdateCar", controller = "Car"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult UpdateCar(CarDealer.Domain.GetCarDto) on controller CarDealer.Controllers.CarController (CarDealer).
2022-11-04 17:35:18.184 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 17:35:18.192 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CarManufacturerId], [c].[CarType], [c].[Hp], [c].[Make], [c].[Model], [c].[Seats], [c].[Year]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__id_0
2022-11-04 17:35:18.245 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p7='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Cars] SET [CarManufacturerId] = @p0, [CarType] = @p1, [Hp] = @p2, [Make] = @p3, [Model] = @p4, [Seats] = @p5, [Year] = @p6
WHERE [Id] = @p7;
SELECT @@ROWCOUNT;
2022-11-04 17:35:18.250 +01:00 [INF] Executing OkObjectResult, writing value of type 'CarDealer.Domain.GetCarDto'.
2022-11-04 17:35:18.252 +01:00 [INF] Executed action CarDealer.Controllers.CarController.UpdateCar (CarDealer) in 115.5944ms
2022-11-04 17:35:18.252 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.CarController.UpdateCar (CarDealer)'
2022-11-04 17:35:18.252 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7145/api/Car application/json 113 - 200 - application/json;+charset=utf-8 119.8376ms
2022-11-04 17:35:28.029 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/api/CarManufacturer/GetAllMakeById?id=2 - -
2022-11-04 17:35:28.030 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.CarManufacturerController.GetAllCarManufacturers (CarDealer)'
2022-11-04 17:35:28.032 +01:00 [INF] Route matched with {action = "GetAllCarManufacturers", controller = "CarManufacturer"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllCarManufacturers(Int32) on controller CarDealer.Controllers.CarManufacturerController (CarDealer).
2022-11-04 17:35:28.041 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 17:35:28.047 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Country], [c].[Make]
FROM [CarManufacturers] AS [c]
WHERE [c].[Id] = @__id_0
2022-11-04 17:35:28.047 +01:00 [INF] Executing OkObjectResult, writing value of type 'null'.
2022-11-04 17:35:28.047 +01:00 [INF] Executed action CarDealer.Controllers.CarManufacturerController.GetAllCarManufacturers (CarDealer) in 15.3271ms
2022-11-04 17:35:28.047 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.CarManufacturerController.GetAllCarManufacturers (CarDealer)'
2022-11-04 17:35:28.047 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/api/CarManufacturer/GetAllMakeById?id=2 - - - 204 0 - 18.5708ms
2022-11-04 17:35:44.202 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7145/api/Car?make=Merc application/json 83
2022-11-04 17:35:44.202 +01:00 [INF] CORS policy execution successful.
2022-11-04 17:35:44.203 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.CarController.AddCar (CarDealer)'
2022-11-04 17:35:44.204 +01:00 [INF] Route matched with {action = "AddCar", controller = "Car"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddCar(System.String, CarDealer.Domain.AddCarDto) on controller CarDealer.Controllers.CarController (CarDealer).
2022-11-04 17:35:44.212 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 17:35:44.265 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Country], [c].[Make]
FROM [CarManufacturers] AS [c]
WHERE LOWER([c].[Make]) = @__ToLower_0
2022-11-04 17:35:44.301 +01:00 [ERR] Car manufacturer MERC does not exist
2022-11-04 17:35:44.301 +01:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2022-11-04 17:35:44.302 +01:00 [INF] Executed action CarDealer.Controllers.CarController.AddCar (CarDealer) in 97.1437ms
2022-11-04 17:35:44.302 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.CarController.AddCar (CarDealer)'
2022-11-04 17:35:44.302 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7145/api/Car?make=Merc application/json 83 - 404 - text/plain;+charset=utf-8 99.6890ms
2022-11-04 17:35:59.265 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/api/Car - -
2022-11-04 17:35:59.266 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.CarController.GetAll (CarDealer)'
2022-11-04 17:35:59.267 +01:00 [INF] Route matched with {action = "GetAll", controller = "Car"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller CarDealer.Controllers.CarController (CarDealer).
2022-11-04 17:35:59.269 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 17:35:59.280 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CarManufacturerId], [c].[CarType], [c].[Hp], [c].[Make], [c].[Model], [c].[Seats], [c].[Year]
FROM [Cars] AS [c]
2022-11-04 17:35:59.281 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarDealer.Domain.GetCarDto, CarDealer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-04 17:35:59.284 +01:00 [INF] Executed action CarDealer.Controllers.CarController.GetAll (CarDealer) in 17.5692ms
2022-11-04 17:35:59.285 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.CarController.GetAll (CarDealer)'
2022-11-04 17:35:59.285 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/api/Car - - - 200 - application/json;+charset=utf-8 19.9616ms
2022-11-04 17:36:00.016 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/api/Car - -
2022-11-04 17:36:00.016 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.CarController.GetAll (CarDealer)'
2022-11-04 17:36:00.016 +01:00 [INF] Route matched with {action = "GetAll", controller = "Car"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller CarDealer.Controllers.CarController (CarDealer).
2022-11-04 17:36:00.017 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 17:36:00.018 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CarManufacturerId], [c].[CarType], [c].[Hp], [c].[Make], [c].[Model], [c].[Seats], [c].[Year]
FROM [Cars] AS [c]
2022-11-04 17:36:00.019 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarDealer.Domain.GetCarDto, CarDealer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-04 17:36:00.019 +01:00 [INF] Executed action CarDealer.Controllers.CarController.GetAll (CarDealer) in 2.2259ms
2022-11-04 17:36:00.019 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.CarController.GetAll (CarDealer)'
2022-11-04 17:36:00.019 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/api/Car - - - 200 - application/json;+charset=utf-8 3.5286ms
2022-11-04 17:40:37.483 +01:00 [INF] User profile is available. Using 'C:\Users\Filip\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-11-04 17:40:37.895 +01:00 [INF] Now listening on: https://localhost:7145
2022-11-04 17:40:37.896 +01:00 [INF] Now listening on: http://localhost:5145
2022-11-04 17:40:37.899 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-04 17:40:37.900 +01:00 [INF] Hosting environment: Development
2022-11-04 17:40:37.900 +01:00 [INF] Content root path: C:\Users\Work\source\repos\CarDealer\CarDealer\
2022-11-04 17:40:38.432 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/swagger/index.html - -
2022-11-04 17:40:38.812 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/swagger/index.html - - - 200 - text/html;charset=utf-8 387.6209ms
2022-11-04 17:40:38.916 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/_vs/browserLink - -
2022-11-04 17:40:38.916 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/_framework/aspnetcore-browser-refresh.js - -
2022-11-04 17:40:38.929 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/_framework/aspnetcore-browser-refresh.js - - - 200 11988 application/javascript;+charset=utf-8 12.3815ms
2022-11-04 17:40:38.970 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 53.7400ms
2022-11-04 17:40:39.086 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/swagger/v1/swagger.json - -
2022-11-04 17:40:39.289 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 202.6023ms
2022-11-04 17:40:50.856 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7145/api/Auth/login application/json 53
2022-11-04 17:40:50.864 +01:00 [INF] CORS policy execution successful.
2022-11-04 17:40:50.954 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.AuthController.Login (CarDealer)'
2022-11-04 17:40:50.974 +01:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(CarDealer.Domain.Auth.LoginDto) on controller CarDealer.Controllers.AuthController (CarDealer).
2022-11-04 17:40:52.215 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 17:40:53.346 +01:00 [INF] Executed DbCommand (70ms) [Parameters=[@__req_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[LastName], [u].[PasswordHash], [u].[PasswordSalt], [u].[RefreshToken], [u].[Role], [u].[TokenCreated], [u].[TokenExpires], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__req_Username_0
2022-11-04 17:40:53.778 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;
2022-11-04 17:40:53.809 +01:00 [INF] Executing OkObjectResult, writing value of type 'CarDealer.Models.Token'.
2022-11-04 17:40:53.820 +01:00 [INF] Executed action CarDealer.Controllers.AuthController.Login (CarDealer) in 2840.4997ms
2022-11-04 17:40:53.821 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.AuthController.Login (CarDealer)'
2022-11-04 17:40:53.832 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7145/api/Auth/login application/json 53 - 200 - application/json;+charset=utf-8 2975.2843ms
2022-11-04 17:41:15.353 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7145/api/Car?make=Bmw application/json 115
2022-11-04 17:41:15.355 +01:00 [INF] CORS policy execution successful.
2022-11-04 17:41:15.444 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.CarController.UpdateCar (CarDealer)'
2022-11-04 17:41:15.446 +01:00 [INF] Route matched with {action = "UpdateCar", controller = "Car"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult UpdateCar(System.String, CarDealer.Domain.GetCarDto) on controller CarDealer.Controllers.CarController (CarDealer).
2022-11-04 17:41:15.576 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 17:41:15.586 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CarManufacturerId], [c].[CarType], [c].[Hp], [c].[Make], [c].[Model], [c].[Seats], [c].[Year]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__id_0
2022-11-04 17:41:15.656 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Country], [c].[Make]
FROM [CarManufacturers] AS [c]
WHERE LOWER([c].[Make]) = @__ToLower_0
2022-11-04 17:41:15.720 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p7='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Cars] SET [CarManufacturerId] = @p0, [CarType] = @p1, [Hp] = @p2, [Make] = @p3, [Model] = @p4, [Seats] = @p5, [Year] = @p6
WHERE [Id] = @p7;
SELECT @@ROWCOUNT;
2022-11-04 17:41:15.725 +01:00 [INF] Executing OkObjectResult, writing value of type 'CarDealer.Domain.GetCarDto'.
2022-11-04 17:41:15.727 +01:00 [INF] Executed action CarDealer.Controllers.CarController.UpdateCar (CarDealer) in 280.5694ms
2022-11-04 17:41:15.727 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.CarController.UpdateCar (CarDealer)'
2022-11-04 17:41:15.727 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7145/api/Car?make=Bmw application/json 115 - 200 - application/json;+charset=utf-8 373.5183ms
2022-11-04 17:41:39.417 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7145/api/CarManufacturer application/json 48
2022-11-04 17:41:39.418 +01:00 [INF] CORS policy execution successful.
2022-11-04 17:41:39.430 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.CarManufacturerController.AddCarManufacturer (CarDealer)'
2022-11-04 17:41:39.431 +01:00 [INF] Route matched with {action = "AddCarManufacturer", controller = "CarManufacturer"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddCarManufacturer(CarDealer.Domain.AddCarManufacturer) on controller CarDealer.Controllers.CarManufacturerController (CarDealer).
2022-11-04 17:41:39.479 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 17:41:39.520 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [CarManufacturers] ([Country], [Make])
VALUES (@p0, @p1);
SELECT [Id]
FROM [CarManufacturers]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-11-04 17:41:39.643 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Country], [c].[Make], [c0].[Id], [c0].[CarManufacturerId], [c0].[CarType], [c0].[Hp], [c0].[Make], [c0].[Model], [c0].[Seats], [c0].[Year]
FROM [CarManufacturers] AS [c]
LEFT JOIN [Cars] AS [c0] ON [c].[Id] = [c0].[CarManufacturerId]
ORDER BY [c].[Id]
2022-11-04 17:41:39.651 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarDealer.Models.CarManufacturer, CarDealer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-04 17:41:39.655 +01:00 [INF] Executed action CarDealer.Controllers.CarManufacturerController.AddCarManufacturer (CarDealer) in 224.0041ms
2022-11-04 17:41:39.655 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.CarManufacturerController.AddCarManufacturer (CarDealer)'
2022-11-04 17:41:39.655 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7145/api/CarManufacturer application/json 48 - 200 - application/json;+charset=utf-8 238.3596ms
2022-11-04 17:41:52.196 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7145/api/Car?make=Mercedes application/json 115
2022-11-04 17:41:52.197 +01:00 [INF] CORS policy execution successful.
2022-11-04 17:41:52.198 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.CarController.UpdateCar (CarDealer)'
2022-11-04 17:41:52.198 +01:00 [INF] Route matched with {action = "UpdateCar", controller = "Car"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult UpdateCar(System.String, CarDealer.Domain.GetCarDto) on controller CarDealer.Controllers.CarController (CarDealer).
2022-11-04 17:41:52.200 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 17:41:52.207 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CarManufacturerId], [c].[CarType], [c].[Hp], [c].[Make], [c].[Model], [c].[Seats], [c].[Year]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__id_0
2022-11-04 17:41:52.210 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Country], [c].[Make]
FROM [CarManufacturers] AS [c]
WHERE LOWER([c].[Make]) = @__ToLower_0
2022-11-04 17:41:52.242 +01:00 [INF] Executed DbCommand (27ms) [Parameters=[@p7='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Cars] SET [CarManufacturerId] = @p0, [CarType] = @p1, [Hp] = @p2, [Make] = @p3, [Model] = @p4, [Seats] = @p5, [Year] = @p6
WHERE [Id] = @p7;
SELECT @@ROWCOUNT;
2022-11-04 17:41:52.242 +01:00 [INF] Executing OkObjectResult, writing value of type 'CarDealer.Domain.GetCarDto'.
2022-11-04 17:41:52.243 +01:00 [INF] Executed action CarDealer.Controllers.CarController.UpdateCar (CarDealer) in 44.2487ms
2022-11-04 17:41:52.243 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.CarController.UpdateCar (CarDealer)'
2022-11-04 17:41:52.243 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7145/api/Car?make=Mercedes application/json 115 - 200 - application/json;+charset=utf-8 46.4801ms
2022-11-04 17:41:56.980 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/api/Car - -
2022-11-04 17:41:56.981 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.CarController.GetAll (CarDealer)'
2022-11-04 17:41:56.981 +01:00 [INF] Route matched with {action = "GetAll", controller = "Car"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller CarDealer.Controllers.CarController (CarDealer).
2022-11-04 17:41:56.984 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 17:41:56.989 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CarManufacturerId], [c].[CarType], [c].[Hp], [c].[Make], [c].[Model], [c].[Seats], [c].[Year]
FROM [Cars] AS [c]
2022-11-04 17:41:56.989 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarDealer.Domain.GetCarDto, CarDealer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-04 17:41:56.990 +01:00 [INF] Executed action CarDealer.Controllers.CarController.GetAll (CarDealer) in 8.1437ms
2022-11-04 17:41:56.990 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.CarController.GetAll (CarDealer)'
2022-11-04 17:41:56.990 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/api/Car - - - 200 - application/json;+charset=utf-8 10.1696ms
2022-11-04 17:42:07.205 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/api/CarManufacturer/GetAllMake - -
2022-11-04 17:42:07.205 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.CarManufacturerController.GetAllCarManufacturers (CarDealer)'
2022-11-04 17:42:07.207 +01:00 [INF] Route matched with {action = "GetAllCarManufacturers", controller = "CarManufacturer"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllCarManufacturers() on controller CarDealer.Controllers.CarManufacturerController (CarDealer).
2022-11-04 17:42:07.208 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 17:42:07.211 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Country], [c].[Make], [c0].[Id], [c0].[CarManufacturerId], [c0].[CarType], [c0].[Hp], [c0].[Make], [c0].[Model], [c0].[Seats], [c0].[Year]
FROM [CarManufacturers] AS [c]
LEFT JOIN [Cars] AS [c0] ON [c].[Id] = [c0].[CarManufacturerId]
ORDER BY [c].[Id]
2022-11-04 17:42:07.212 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarDealer.Models.CarManufacturer, CarDealer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-04 17:42:07.212 +01:00 [INF] Executed action CarDealer.Controllers.CarManufacturerController.GetAllCarManufacturers (CarDealer) in 5.334ms
2022-11-04 17:42:07.212 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.CarManufacturerController.GetAllCarManufacturers (CarDealer)'
2022-11-04 17:42:07.212 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/api/CarManufacturer/GetAllMake - - - 200 - application/json;+charset=utf-8 7.4532ms
2022-11-04 17:44:59.895 +01:00 [INF] User profile is available. Using 'C:\Users\Filip\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-11-04 17:45:00.425 +01:00 [INF] Now listening on: https://localhost:7145
2022-11-04 17:45:00.425 +01:00 [INF] Now listening on: http://localhost:5145
2022-11-04 17:45:00.436 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-04 17:45:00.436 +01:00 [INF] Hosting environment: Development
2022-11-04 17:45:00.436 +01:00 [INF] Content root path: C:\Users\Work\source\repos\CarDealer\CarDealer\
2022-11-04 17:45:01.228 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/swagger/index.html - -
2022-11-04 17:45:01.591 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/swagger/index.html - - - 200 - text/html;charset=utf-8 366.1427ms
2022-11-04 17:45:01.680 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/_vs/browserLink - -
2022-11-04 17:45:01.680 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/_framework/aspnetcore-browser-refresh.js - -
2022-11-04 17:45:01.693 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/_framework/aspnetcore-browser-refresh.js - - - 200 11988 application/javascript;+charset=utf-8 13.4129ms
2022-11-04 17:45:01.709 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 28.9617ms
2022-11-04 17:45:01.830 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/swagger/v1/swagger.json - -
2022-11-04 17:45:02.024 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 193.6609ms
2022-11-04 17:45:14.707 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7145/api/Auth/login application/json 53
2022-11-04 17:45:14.714 +01:00 [INF] CORS policy execution successful.
2022-11-04 17:45:14.804 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.AuthController.Login (CarDealer)'
2022-11-04 17:45:14.824 +01:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(CarDealer.Domain.Auth.LoginDto) on controller CarDealer.Controllers.AuthController (CarDealer).
2022-11-04 17:45:15.998 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 17:45:16.973 +01:00 [INF] Executed DbCommand (62ms) [Parameters=[@__req_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[LastName], [u].[PasswordHash], [u].[PasswordSalt], [u].[RefreshToken], [u].[Role], [u].[TokenCreated], [u].[TokenExpires], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__req_Username_0
2022-11-04 17:45:17.347 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;
2022-11-04 17:45:17.376 +01:00 [INF] Executing OkObjectResult, writing value of type 'CarDealer.Models.Token'.
2022-11-04 17:45:17.385 +01:00 [INF] Executed action CarDealer.Controllers.AuthController.Login (CarDealer) in 2555.151ms
2022-11-04 17:45:17.386 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.AuthController.Login (CarDealer)'
2022-11-04 17:45:17.396 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7145/api/Auth/login application/json 53 - 200 - application/json;+charset=utf-8 2689.1223ms
2022-11-04 17:45:30.305 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/api/CarManufacturer/GetAllMake - -
2022-11-04 17:45:30.392 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.CarManufacturerController.GetAllCarManufacturers (CarDealer)'
2022-11-04 17:45:30.393 +01:00 [INF] Route matched with {action = "GetAllCarManufacturers", controller = "CarManufacturer"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllCarManufacturers() on controller CarDealer.Controllers.CarManufacturerController (CarDealer).
2022-11-04 17:45:30.494 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 17:45:30.634 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Country], [c].[Make], [c0].[Id], [c0].[CarManufacturerId], [c0].[CarType], [c0].[Hp], [c0].[Make], [c0].[Model], [c0].[Seats], [c0].[Year]
FROM [CarManufacturers] AS [c]
LEFT JOIN [Cars] AS [c0] ON [c].[Id] = [c0].[CarManufacturerId]
ORDER BY [c].[Id]
2022-11-04 17:45:30.676 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarDealer.Models.CarManufacturer, CarDealer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-04 17:45:30.682 +01:00 [INF] Executed action CarDealer.Controllers.CarManufacturerController.GetAllCarManufacturers (CarDealer) in 288.9147ms
2022-11-04 17:45:30.682 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.CarManufacturerController.GetAllCarManufacturers (CarDealer)'
2022-11-04 17:45:30.682 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/api/CarManufacturer/GetAllMake - - - 200 - application/json;+charset=utf-8 377.4793ms
2022-11-04 17:45:38.362 +01:00 [INF] Request starting HTTP/2 DELETE https://localhost:7145/api/CarManufacturer?id=2 - -
2022-11-04 17:45:38.362 +01:00 [INF] CORS policy execution successful.
2022-11-04 17:45:38.365 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.CarManufacturerController.DeleteCar (CarDealer)'
2022-11-04 17:45:38.367 +01:00 [INF] Route matched with {action = "DeleteCar", controller = "CarManufacturer"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult DeleteCar(Int32) on controller CarDealer.Controllers.CarManufacturerController (CarDealer).
2022-11-04 17:45:38.420 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 17:45:38.425 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Country], [c].[Make]
FROM [CarManufacturers] AS [c]
WHERE [c].[Id] = @__id_0
2022-11-04 17:45:38.453 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [CarManufacturers]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;
2022-11-04 17:45:38.462 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Country], [c].[Make], [c0].[Id], [c0].[CarManufacturerId], [c0].[CarType], [c0].[Hp], [c0].[Make], [c0].[Model], [c0].[Seats], [c0].[Year]
FROM [CarManufacturers] AS [c]
LEFT JOIN [Cars] AS [c0] ON [c].[Id] = [c0].[CarManufacturerId]
ORDER BY [c].[Id]
2022-11-04 17:45:38.462 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarDealer.Models.CarManufacturer, CarDealer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-04 17:45:38.462 +01:00 [INF] Executed action CarDealer.Controllers.CarManufacturerController.DeleteCar (CarDealer) in 94.8997ms
2022-11-04 17:45:38.462 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.CarManufacturerController.DeleteCar (CarDealer)'
2022-11-04 17:45:38.462 +01:00 [INF] Request finished HTTP/2 DELETE https://localhost:7145/api/CarManufacturer?id=2 - - - 200 - application/json;+charset=utf-8 100.6441ms
2022-11-04 17:45:46.210 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/api/Car - -
2022-11-04 17:45:46.211 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.CarController.GetAll (CarDealer)'
2022-11-04 17:45:46.212 +01:00 [INF] Route matched with {action = "GetAll", controller = "Car"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller CarDealer.Controllers.CarController (CarDealer).
2022-11-04 17:45:46.214 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 17:45:46.218 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CarManufacturerId], [c].[CarType], [c].[Hp], [c].[Make], [c].[Model], [c].[Seats], [c].[Year]
FROM [Cars] AS [c]
2022-11-04 17:45:46.230 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarDealer.Domain.GetCarDto, CarDealer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-04 17:45:46.232 +01:00 [INF] Executed action CarDealer.Controllers.CarController.GetAll (CarDealer) in 19.2634ms
2022-11-04 17:45:46.232 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.CarController.GetAll (CarDealer)'
2022-11-04 17:45:46.232 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/api/Car - - - 200 - application/json;+charset=utf-8 22.1310ms
2022-11-04 17:50:29.401 +01:00 [INF] User profile is available. Using 'C:\Users\Filip\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-11-04 17:50:29.828 +01:00 [INF] Now listening on: https://localhost:7145
2022-11-04 17:50:29.828 +01:00 [INF] Now listening on: http://localhost:5145
2022-11-04 17:50:29.831 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-04 17:50:29.831 +01:00 [INF] Hosting environment: Development
2022-11-04 17:50:29.831 +01:00 [INF] Content root path: C:\Users\Work\source\repos\CarDealer\CarDealer\
2022-11-04 17:50:30.430 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/swagger/index.html - -
2022-11-04 17:50:30.966 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/_framework/aspnetcore-browser-refresh.js - -
2022-11-04 17:50:30.976 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/_framework/aspnetcore-browser-refresh.js - - - 200 11988 application/javascript;+charset=utf-8 8.5622ms
2022-11-04 17:50:30.977 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/swagger/index.html - - - 200 - text/html;charset=utf-8 559.1929ms
2022-11-04 17:50:31.115 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/_vs/browserLink - -
2022-11-04 17:50:31.156 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 41.7115ms
2022-11-04 17:50:31.307 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/swagger/v1/swagger.json - -
2022-11-04 17:50:31.539 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 232.1675ms
2022-11-04 17:50:42.428 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7145/api/Auth/login application/json 53
2022-11-04 17:50:42.435 +01:00 [INF] CORS policy execution successful.
2022-11-04 17:50:42.522 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.AuthController.Login (CarDealer)'
2022-11-04 17:50:42.542 +01:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(CarDealer.Domain.Auth.LoginDto) on controller CarDealer.Controllers.AuthController (CarDealer).
2022-11-04 17:50:43.808 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 17:50:44.871 +01:00 [INF] Executed DbCommand (62ms) [Parameters=[@__req_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[LastName], [u].[PasswordHash], [u].[PasswordSalt], [u].[RefreshToken], [u].[Role], [u].[TokenCreated], [u].[TokenExpires], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__req_Username_0
2022-11-04 17:50:45.255 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;
2022-11-04 17:50:45.286 +01:00 [INF] Executing OkObjectResult, writing value of type 'CarDealer.Models.Token'.
2022-11-04 17:50:45.296 +01:00 [INF] Executed action CarDealer.Controllers.AuthController.Login (CarDealer) in 2747.544ms
2022-11-04 17:50:45.297 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.AuthController.Login (CarDealer)'
2022-11-04 17:50:45.308 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7145/api/Auth/login application/json 53 - 200 - application/json;+charset=utf-8 2879.8160ms
2022-11-04 17:50:57.769 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/api/CarManufacturer/GetAllMake - -
2022-11-04 17:50:57.868 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.CarManufacturerController.GetAllCarManufacturers (CarDealer)'
2022-11-04 17:50:57.869 +01:00 [INF] Route matched with {action = "GetAllCarManufacturers", controller = "CarManufacturer"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllCarManufacturers() on controller CarDealer.Controllers.CarManufacturerController (CarDealer).
2022-11-04 17:50:57.978 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 17:50:58.141 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Country], [c].[Make], [c0].[Id], [c0].[CarManufacturerId], [c0].[CarType], [c0].[Hp], [c0].[Make], [c0].[Model], [c0].[Seats], [c0].[Year]
FROM [CarManufacturers] AS [c]
LEFT JOIN [Cars] AS [c0] ON [c].[Id] = [c0].[CarManufacturerId]
ORDER BY [c].[Id]
2022-11-04 17:50:58.189 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarDealer.Models.CarManufacturer, CarDealer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-04 17:50:58.195 +01:00 [INF] Executed action CarDealer.Controllers.CarManufacturerController.GetAllCarManufacturers (CarDealer) in 325.8984ms
2022-11-04 17:50:58.195 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.CarManufacturerController.GetAllCarManufacturers (CarDealer)'
2022-11-04 17:50:58.196 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/api/CarManufacturer/GetAllMake - - - 200 - application/json;+charset=utf-8 426.8026ms
2022-11-04 17:51:18.480 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7145/api/CarManufacturer application/json 53
2022-11-04 17:51:18.484 +01:00 [INF] CORS policy execution successful.
2022-11-04 17:51:18.489 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.CarManufacturerController.UpdateCar (CarDealer)'
2022-11-04 17:51:18.490 +01:00 [INF] Route matched with {action = "UpdateCar", controller = "CarManufacturer"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult UpdateCar(CarDealer.Domain.UpdateCarManufacturerDto) on controller CarDealer.Controllers.CarManufacturerController (CarDealer).
2022-11-04 17:51:18.539 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 17:51:18.544 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Country], [c].[Make]
FROM [CarManufacturers] AS [c]
WHERE [c].[Id] = @__id_0
2022-11-04 17:51:18.563 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [CarManufacturers] SET [Country] = @p0, [Make] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;
2022-11-04 17:51:18.564 +01:00 [INF] Executing OkObjectResult, writing value of type 'CarDealer.Models.CarManufacturer'.
2022-11-04 17:51:18.565 +01:00 [INF] Executed action CarDealer.Controllers.CarManufacturerController.UpdateCar (CarDealer) in 74.7063ms
2022-11-04 17:51:18.565 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.CarManufacturerController.UpdateCar (CarDealer)'
2022-11-04 17:51:18.565 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7145/api/CarManufacturer application/json 53 - 200 - application/json;+charset=utf-8 85.2624ms
2022-11-04 17:52:24.890 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/api/CarManufacturer/GetAllMake - -
2022-11-04 17:52:24.905 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.CarManufacturerController.GetAllCarManufacturers (CarDealer)'
2022-11-04 17:52:24.906 +01:00 [INF] Route matched with {action = "GetAllCarManufacturers", controller = "CarManufacturer"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllCarManufacturers() on controller CarDealer.Controllers.CarManufacturerController (CarDealer).
2022-11-04 17:52:24.908 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 17:52:24.913 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Country], [c].[Make], [c0].[Id], [c0].[CarManufacturerId], [c0].[CarType], [c0].[Hp], [c0].[Make], [c0].[Model], [c0].[Seats], [c0].[Year]
FROM [CarManufacturers] AS [c]
LEFT JOIN [Cars] AS [c0] ON [c].[Id] = [c0].[CarManufacturerId]
ORDER BY [c].[Id]
2022-11-04 17:52:24.914 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarDealer.Models.CarManufacturer, CarDealer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-04 17:52:24.914 +01:00 [INF] Executed action CarDealer.Controllers.CarManufacturerController.GetAllCarManufacturers (CarDealer) in 8.1007ms
2022-11-04 17:52:24.914 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.CarManufacturerController.GetAllCarManufacturers (CarDealer)'
2022-11-04 17:52:24.914 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/api/CarManufacturer/GetAllMake - - - 200 - application/json;+charset=utf-8 26.0941ms
2022-11-04 17:53:22.777 +01:00 [INF] User profile is available. Using 'C:\Users\Filip\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-11-04 17:53:23.217 +01:00 [INF] Now listening on: https://localhost:7145
2022-11-04 17:53:23.217 +01:00 [INF] Now listening on: http://localhost:5145
2022-11-04 17:53:23.221 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-04 17:53:23.221 +01:00 [INF] Hosting environment: Development
2022-11-04 17:53:23.221 +01:00 [INF] Content root path: C:\Users\Work\source\repos\CarDealer\CarDealer\
2022-11-04 17:53:23.937 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/swagger/index.html - -
2022-11-04 17:53:24.322 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/swagger/index.html - - - 200 - text/html;charset=utf-8 392.5330ms
2022-11-04 17:53:24.412 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/_vs/browserLink - -
2022-11-04 17:53:24.412 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/_framework/aspnetcore-browser-refresh.js - -
2022-11-04 17:53:24.426 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/_framework/aspnetcore-browser-refresh.js - - - 200 11988 application/javascript;+charset=utf-8 13.4715ms
2022-11-04 17:53:24.457 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 44.3465ms
2022-11-04 17:53:24.574 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/swagger/v1/swagger.json - -
2022-11-04 17:53:24.784 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 210.3465ms
2022-11-04 17:53:35.181 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7145/api/Auth/login application/json 53
2022-11-04 17:53:35.189 +01:00 [INF] CORS policy execution successful.
2022-11-04 17:53:35.274 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.AuthController.Login (CarDealer)'
2022-11-04 17:53:35.293 +01:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(CarDealer.Domain.Auth.LoginDto) on controller CarDealer.Controllers.AuthController (CarDealer).
2022-11-04 17:53:36.444 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 17:53:37.430 +01:00 [INF] Executed DbCommand (71ms) [Parameters=[@__req_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[LastName], [u].[PasswordHash], [u].[PasswordSalt], [u].[RefreshToken], [u].[Role], [u].[TokenCreated], [u].[TokenExpires], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__req_Username_0
2022-11-04 17:53:37.807 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;
2022-11-04 17:53:37.837 +01:00 [INF] Executing OkObjectResult, writing value of type 'CarDealer.Models.Token'.
2022-11-04 17:53:37.846 +01:00 [INF] Executed action CarDealer.Controllers.AuthController.Login (CarDealer) in 2546.9422ms
2022-11-04 17:53:37.846 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.AuthController.Login (CarDealer)'
2022-11-04 17:53:37.855 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7145/api/Auth/login application/json 53 - 200 - application/json;+charset=utf-8 2673.9470ms
2022-11-04 17:53:51.236 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/api/CarManufacturer/GetAllMake - -
2022-11-04 17:53:51.320 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.CarManufacturerController.GetAllCarManufacturers (CarDealer)'
2022-11-04 17:53:51.321 +01:00 [INF] Route matched with {action = "GetAllCarManufacturers", controller = "CarManufacturer"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllCarManufacturers() on controller CarDealer.Controllers.CarManufacturerController (CarDealer).
2022-11-04 17:53:51.430 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 17:53:51.570 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Country], [c].[Make], [c0].[Id], [c0].[CarManufacturerId], [c0].[CarType], [c0].[Hp], [c0].[Make], [c0].[Model], [c0].[Seats], [c0].[Year]
FROM [CarManufacturers] AS [c]
LEFT JOIN [Cars] AS [c0] ON [c].[Id] = [c0].[CarManufacturerId]
ORDER BY [c].[Id]
2022-11-04 17:53:51.612 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarDealer.Models.CarManufacturer, CarDealer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-04 17:53:51.618 +01:00 [INF] Executed action CarDealer.Controllers.CarManufacturerController.GetAllCarManufacturers (CarDealer) in 296.6798ms
2022-11-04 17:53:51.618 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.CarManufacturerController.GetAllCarManufacturers (CarDealer)'
2022-11-04 17:53:51.618 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/api/CarManufacturer/GetAllMake - - - 200 - application/json;+charset=utf-8 383.0215ms
2022-11-04 17:54:08.360 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7145/api/CarManufacturer application/json 52
2022-11-04 17:54:08.360 +01:00 [INF] CORS policy execution successful.
2022-11-04 17:54:08.363 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.CarManufacturerController.UpdateCar (CarDealer)'
2022-11-04 17:54:08.373 +01:00 [INF] Route matched with {action = "UpdateCar", controller = "CarManufacturer"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult UpdateCar(CarDealer.Domain.UpdateCarManufacturerDto) on controller CarDealer.Controllers.CarManufacturerController (CarDealer).
2022-11-04 17:54:08.422 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 17:54:08.427 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Country], [c].[Make]
FROM [CarManufacturers] AS [c]
WHERE [c].[Id] = @__id_0
2022-11-04 17:54:08.445 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [CarManufacturers] SET [Country] = @p0, [Make] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;
2022-11-04 17:54:08.446 +01:00 [INF] Executing OkObjectResult, writing value of type 'CarDealer.Models.CarManufacturer'.
2022-11-04 17:54:08.446 +01:00 [INF] Executed action CarDealer.Controllers.CarManufacturerController.UpdateCar (CarDealer) in 73.137ms
2022-11-04 17:54:08.446 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.CarManufacturerController.UpdateCar (CarDealer)'
2022-11-04 17:54:08.446 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7145/api/CarManufacturer application/json 52 - 200 - application/json;+charset=utf-8 85.9962ms
2022-11-04 17:54:13.051 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/api/CarManufacturer/GetAllMake - -
2022-11-04 17:54:13.053 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.CarManufacturerController.GetAllCarManufacturers (CarDealer)'
2022-11-04 17:54:13.053 +01:00 [INF] Route matched with {action = "GetAllCarManufacturers", controller = "CarManufacturer"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllCarManufacturers() on controller CarDealer.Controllers.CarManufacturerController (CarDealer).
2022-11-04 17:54:13.056 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 17:54:13.061 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Country], [c].[Make], [c0].[Id], [c0].[CarManufacturerId], [c0].[CarType], [c0].[Hp], [c0].[Make], [c0].[Model], [c0].[Seats], [c0].[Year]
FROM [CarManufacturers] AS [c]
LEFT JOIN [Cars] AS [c0] ON [c].[Id] = [c0].[CarManufacturerId]
ORDER BY [c].[Id]
2022-11-04 17:54:13.061 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarDealer.Models.CarManufacturer, CarDealer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-04 17:54:13.061 +01:00 [INF] Executed action CarDealer.Controllers.CarManufacturerController.GetAllCarManufacturers (CarDealer) in 7.9804ms
2022-11-04 17:54:13.061 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.CarManufacturerController.GetAllCarManufacturers (CarDealer)'
2022-11-04 17:54:13.062 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/api/CarManufacturer/GetAllMake - - - 200 - application/json;+charset=utf-8 10.3553ms
2022-11-04 17:54:24.402 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7145/api/CarManufacturer application/json 53
2022-11-04 17:54:24.403 +01:00 [INF] CORS policy execution successful.
2022-11-04 17:54:24.404 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.CarManufacturerController.UpdateCar (CarDealer)'
2022-11-04 17:54:24.404 +01:00 [INF] Route matched with {action = "UpdateCar", controller = "CarManufacturer"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult UpdateCar(CarDealer.Domain.UpdateCarManufacturerDto) on controller CarDealer.Controllers.CarManufacturerController (CarDealer).
2022-11-04 17:54:24.405 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 17:54:24.407 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Country], [c].[Make]
FROM [CarManufacturers] AS [c]
WHERE [c].[Id] = @__id_0
2022-11-04 17:54:24.408 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [CarManufacturers] SET [Country] = @p0, [Make] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;
2022-11-04 17:54:24.409 +01:00 [INF] Executing OkObjectResult, writing value of type 'CarDealer.Models.CarManufacturer'.
2022-11-04 17:54:24.409 +01:00 [INF] Executed action CarDealer.Controllers.CarManufacturerController.UpdateCar (CarDealer) in 5.4026ms
2022-11-04 17:54:24.409 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.CarManufacturerController.UpdateCar (CarDealer)'
2022-11-04 17:54:24.409 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7145/api/CarManufacturer application/json 53 - 200 - application/json;+charset=utf-8 6.9361ms
2022-11-04 17:54:29.208 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/api/CarManufacturer/GetAllMake - -
2022-11-04 17:54:29.209 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.CarManufacturerController.GetAllCarManufacturers (CarDealer)'
2022-11-04 17:54:29.209 +01:00 [INF] Route matched with {action = "GetAllCarManufacturers", controller = "CarManufacturer"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllCarManufacturers() on controller CarDealer.Controllers.CarManufacturerController (CarDealer).
2022-11-04 17:54:29.210 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 17:54:29.210 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Country], [c].[Make], [c0].[Id], [c0].[CarManufacturerId], [c0].[CarType], [c0].[Hp], [c0].[Make], [c0].[Model], [c0].[Seats], [c0].[Year]
FROM [CarManufacturers] AS [c]
LEFT JOIN [Cars] AS [c0] ON [c].[Id] = [c0].[CarManufacturerId]
ORDER BY [c].[Id]
2022-11-04 17:54:29.211 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarDealer.Models.CarManufacturer, CarDealer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-04 17:54:29.211 +01:00 [INF] Executed action CarDealer.Controllers.CarManufacturerController.GetAllCarManufacturers (CarDealer) in 1.8809ms
2022-11-04 17:54:29.211 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.CarManufacturerController.GetAllCarManufacturers (CarDealer)'
2022-11-04 17:54:29.211 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/api/CarManufacturer/GetAllMake - - - 200 - application/json;+charset=utf-8 2.8588ms
2022-11-04 17:57:57.688 +01:00 [INF] User profile is available. Using 'C:\Users\Filip\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-11-04 17:57:58.307 +01:00 [INF] Now listening on: https://localhost:7145
2022-11-04 17:57:58.307 +01:00 [INF] Now listening on: http://localhost:5145
2022-11-04 17:57:58.311 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-04 17:57:58.311 +01:00 [INF] Hosting environment: Development
2022-11-04 17:57:58.311 +01:00 [INF] Content root path: C:\Users\Work\source\repos\CarDealer\CarDealer\
2022-11-04 17:57:59.044 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/swagger/index.html - -
2022-11-04 17:57:59.555 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/swagger/index.html - - - 200 - text/html;charset=utf-8 520.2891ms
2022-11-04 17:57:59.686 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/_vs/browserLink - -
2022-11-04 17:57:59.686 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/_framework/aspnetcore-browser-refresh.js - -
2022-11-04 17:57:59.702 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/_framework/aspnetcore-browser-refresh.js - - - 200 11988 application/javascript;+charset=utf-8 16.0033ms
2022-11-04 17:57:59.727 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 41.9430ms
2022-11-04 17:57:59.863 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/swagger/v1/swagger.json - -
2022-11-04 17:58:00.123 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 260.8769ms
2022-11-04 17:58:13.571 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7145/api/Auth/login application/json 53
2022-11-04 17:58:13.578 +01:00 [INF] CORS policy execution successful.
2022-11-04 17:58:13.664 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.AuthController.Login (CarDealer)'
2022-11-04 17:58:13.688 +01:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(CarDealer.Domain.Auth.LoginDto) on controller CarDealer.Controllers.AuthController (CarDealer).
2022-11-04 17:58:14.874 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 17:58:15.855 +01:00 [INF] Executed DbCommand (62ms) [Parameters=[@__req_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[LastName], [u].[PasswordHash], [u].[PasswordSalt], [u].[RefreshToken], [u].[Role], [u].[TokenCreated], [u].[TokenExpires], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__req_Username_0
2022-11-04 17:58:16.236 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;
2022-11-04 17:58:16.265 +01:00 [INF] Executing OkObjectResult, writing value of type 'CarDealer.Models.Token'.
2022-11-04 17:58:16.274 +01:00 [INF] Executed action CarDealer.Controllers.AuthController.Login (CarDealer) in 2580.3319ms
2022-11-04 17:58:16.275 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.AuthController.Login (CarDealer)'
2022-11-04 17:58:16.283 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7145/api/Auth/login application/json 53 - 200 - application/json;+charset=utf-8 2712.2550ms
2022-11-04 17:58:29.483 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/api/CarManufacturer/GetAllMake - -
2022-11-04 17:58:29.586 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.CarManufacturerController.GetAllCarManufacturers (CarDealer)'
2022-11-04 17:58:29.587 +01:00 [INF] Route matched with {action = "GetAllCarManufacturers", controller = "CarManufacturer"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllCarManufacturers() on controller CarDealer.Controllers.CarManufacturerController (CarDealer).
2022-11-04 17:58:29.698 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 17:58:29.990 +01:00 [INF] Executed DbCommand (97ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Country], [c].[Make], [c0].[Id], [c0].[CarManufacturerId], [c0].[CarType], [c0].[Hp], [c0].[Make], [c0].[Model], [c0].[Seats], [c0].[Year]
FROM [CarManufacturers] AS [c]
LEFT JOIN [Cars] AS [c0] ON [c].[Id] = [c0].[CarManufacturerId]
ORDER BY [c].[Id]
2022-11-04 17:58:30.033 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarDealer.Models.CarManufacturer, CarDealer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-04 17:58:30.041 +01:00 [INF] Executed action CarDealer.Controllers.CarManufacturerController.GetAllCarManufacturers (CarDealer) in 454.2331ms
2022-11-04 17:58:30.041 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.CarManufacturerController.GetAllCarManufacturers (CarDealer)'
2022-11-04 17:58:30.041 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/api/CarManufacturer/GetAllMake - - - 200 - application/json;+charset=utf-8 557.9617ms
2022-11-04 17:58:43.244 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7145/api/CarManufacturer application/json 54
2022-11-04 17:58:43.245 +01:00 [INF] CORS policy execution successful.
2022-11-04 17:58:43.248 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.CarManufacturerController.UpdateCar (CarDealer)'
2022-11-04 17:58:43.250 +01:00 [INF] Route matched with {action = "UpdateCar", controller = "CarManufacturer"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult UpdateCar(CarDealer.Domain.UpdateCarManufacturerDto) on controller CarDealer.Controllers.CarManufacturerController (CarDealer).
2022-11-04 17:58:43.310 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 17:58:43.315 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Country], [c].[Make]
FROM [CarManufacturers] AS [c]
WHERE [c].[Id] = @__id_0
2022-11-04 17:58:43.435 +01:00 [FTL] Value cannot be null. (Parameter 'source')
2022-11-04 17:58:43.436 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2022-11-04 17:58:43.436 +01:00 [INF] Executed action CarDealer.Controllers.CarManufacturerController.UpdateCar (CarDealer) in 186.0947ms
2022-11-04 17:58:43.436 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.CarManufacturerController.UpdateCar (CarDealer)'
2022-11-04 17:58:43.436 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7145/api/CarManufacturer application/json 54 - 400 - text/plain;+charset=utf-8 192.3129ms
2022-11-04 18:04:20.491 +01:00 [INF] User profile is available. Using 'C:\Users\Filip\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-11-04 18:04:21.023 +01:00 [INF] Now listening on: https://localhost:7145
2022-11-04 18:04:21.023 +01:00 [INF] Now listening on: http://localhost:5145
2022-11-04 18:04:21.027 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-04 18:04:21.027 +01:00 [INF] Hosting environment: Development
2022-11-04 18:04:21.027 +01:00 [INF] Content root path: C:\Users\Work\source\repos\CarDealer\CarDealer\
2022-11-04 18:04:21.834 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/swagger/index.html - -
2022-11-04 18:04:22.311 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/swagger/index.html - - - 200 - text/html;charset=utf-8 480.7474ms
2022-11-04 18:04:22.413 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/_vs/browserLink - -
2022-11-04 18:04:22.413 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/_framework/aspnetcore-browser-refresh.js - -
2022-11-04 18:04:22.422 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/_framework/aspnetcore-browser-refresh.js - - - 200 11988 application/javascript;+charset=utf-8 8.8422ms
2022-11-04 18:04:22.441 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 28.4234ms
2022-11-04 18:04:22.553 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/swagger/v1/swagger.json - -
2022-11-04 18:04:22.741 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 188.4434ms
2022-11-04 18:04:33.603 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7145/api/Auth/login application/json 53
2022-11-04 18:04:33.611 +01:00 [INF] CORS policy execution successful.
2022-11-04 18:04:33.695 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.AuthController.Login (CarDealer)'
2022-11-04 18:04:33.715 +01:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(CarDealer.Domain.Auth.LoginDto) on controller CarDealer.Controllers.AuthController (CarDealer).
2022-11-04 18:04:34.874 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 18:04:35.841 +01:00 [INF] Executed DbCommand (61ms) [Parameters=[@__req_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[LastName], [u].[PasswordHash], [u].[PasswordSalt], [u].[RefreshToken], [u].[Role], [u].[TokenCreated], [u].[TokenExpires], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__req_Username_0
2022-11-04 18:04:36.219 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;
2022-11-04 18:04:36.248 +01:00 [INF] Executing OkObjectResult, writing value of type 'CarDealer.Models.Token'.
2022-11-04 18:04:36.258 +01:00 [INF] Executed action CarDealer.Controllers.AuthController.Login (CarDealer) in 2536.4028ms
2022-11-04 18:04:36.259 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.AuthController.Login (CarDealer)'
2022-11-04 18:04:36.270 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7145/api/Auth/login application/json 53 - 200 - application/json;+charset=utf-8 2666.8988ms
2022-11-04 18:05:03.961 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7145/api/CarManufacturer application/json 53
2022-11-04 18:05:03.967 +01:00 [INF] CORS policy execution successful.
2022-11-04 18:05:04.051 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.CarManufacturerController.UpdateCar (CarDealer)'
2022-11-04 18:05:04.053 +01:00 [INF] Route matched with {action = "UpdateCar", controller = "CarManufacturer"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult UpdateCar(CarDealer.Domain.UpdateCarManufacturerDto) on controller CarDealer.Controllers.CarManufacturerController (CarDealer).
2022-11-04 18:05:04.167 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 18:05:04.211 +01:00 [INF] Executed DbCommand (34ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Country], [c].[Make]
FROM [CarManufacturers] AS [c]
WHERE [c].[Id] = @__id_0
2022-11-04 18:05:04.321 +01:00 [FTL] Value cannot be null. (Parameter 'source')
2022-11-04 18:05:04.321 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2022-11-04 18:05:04.322 +01:00 [INF] Executed action CarDealer.Controllers.CarManufacturerController.UpdateCar (CarDealer) in 268.8565ms
2022-11-04 18:05:04.322 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.CarManufacturerController.UpdateCar (CarDealer)'
2022-11-04 18:05:04.322 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7145/api/CarManufacturer application/json 53 - 400 - text/plain;+charset=utf-8 361.3001ms
2022-11-04 19:29:10.318 +01:00 [INF] User profile is available. Using 'C:\Users\Filip\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-11-04 19:29:10.878 +01:00 [INF] Now listening on: https://localhost:7145
2022-11-04 19:29:10.879 +01:00 [INF] Now listening on: http://localhost:5145
2022-11-04 19:29:10.884 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-04 19:29:10.884 +01:00 [INF] Hosting environment: Development
2022-11-04 19:29:10.884 +01:00 [INF] Content root path: C:\Users\Work\source\repos\CarDealer\CarDealer\
2022-11-04 19:29:11.325 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/swagger/index.html - -
2022-11-04 19:29:11.857 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/swagger/index.html - - - 200 - text/html;charset=utf-8 535.7241ms
2022-11-04 19:29:12.097 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/_framework/aspnetcore-browser-refresh.js - -
2022-11-04 19:29:12.105 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/_framework/aspnetcore-browser-refresh.js - - - 200 11988 application/javascript;+charset=utf-8 7.9405ms
2022-11-04 19:29:12.147 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/_vs/browserLink - -
2022-11-04 19:29:12.291 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 143.3540ms
2022-11-04 19:29:12.739 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/swagger/v1/swagger.json - -
2022-11-04 19:29:13.126 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 387.1905ms
2022-11-04 19:29:23.175 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7145/api/Auth/login application/json 53
2022-11-04 19:29:23.183 +01:00 [INF] CORS policy execution successful.
2022-11-04 19:29:23.289 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.AuthController.Login (CarDealer)'
2022-11-04 19:29:23.312 +01:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(CarDealer.Domain.Auth.LoginDto) on controller CarDealer.Controllers.AuthController (CarDealer).
2022-11-04 19:29:24.552 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 19:29:25.610 +01:00 [INF] Executed DbCommand (62ms) [Parameters=[@__req_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[LastName], [u].[PasswordHash], [u].[PasswordSalt], [u].[RefreshToken], [u].[Role], [u].[TokenCreated], [u].[TokenExpires], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__req_Username_0
2022-11-04 19:29:26.018 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [TokenExpires] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;
2022-11-04 19:29:26.048 +01:00 [INF] Executing OkObjectResult, writing value of type 'CarDealer.Models.Token'.
2022-11-04 19:29:26.056 +01:00 [INF] Executed action CarDealer.Controllers.AuthController.Login (CarDealer) in 2739.1023ms
2022-11-04 19:29:26.057 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.AuthController.Login (CarDealer)'
2022-11-04 19:29:26.066 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7145/api/Auth/login application/json 53 - 200 - application/json;+charset=utf-8 2891.4373ms
2022-11-04 19:29:44.832 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/api/Car - -
2022-11-04 19:29:44.920 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.CarController.GetAll (CarDealer)'
2022-11-04 19:29:44.921 +01:00 [INF] Route matched with {action = "GetAll", controller = "Car"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller CarDealer.Controllers.CarController (CarDealer).
2022-11-04 19:29:45.023 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 19:29:45.072 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CarManufacturerId], [c].[CarType], [c].[Hp], [c].[Make], [c].[Model], [c].[Seats], [c].[Year]
FROM [Cars] AS [c]
2022-11-04 19:29:45.100 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarDealer.Domain.Car.GetCarDto, CarDealer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-04 19:29:45.104 +01:00 [INF] Executed action CarDealer.Controllers.CarController.GetAll (CarDealer) in 182.9389ms
2022-11-04 19:29:45.104 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.CarController.GetAll (CarDealer)'
2022-11-04 19:29:45.104 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/api/Car - - - 200 - application/json;+charset=utf-8 272.5906ms
2022-11-04 19:32:33.958 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7145/api/Auth/login application/json 53
2022-11-04 19:32:33.974 +01:00 [INF] CORS policy execution successful.
2022-11-04 19:32:33.976 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.AuthController.Login (CarDealer)'
2022-11-04 19:32:33.977 +01:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(CarDealer.Domain.Auth.LoginDto) on controller CarDealer.Controllers.AuthController (CarDealer).
2022-11-04 19:32:34.021 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 19:32:34.028 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__req_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[LastName], [u].[PasswordHash], [u].[PasswordSalt], [u].[RefreshToken], [u].[Role], [u].[TokenCreated], [u].[TokenExpires], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__req_Username_0
2022-11-04 19:32:34.031 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [TokenExpires] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;
2022-11-04 19:32:34.032 +01:00 [INF] Executing OkObjectResult, writing value of type 'CarDealer.Models.Token'.
2022-11-04 19:32:34.032 +01:00 [INF] Executed action CarDealer.Controllers.AuthController.Login (CarDealer) in 55.4499ms
2022-11-04 19:32:34.032 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.AuthController.Login (CarDealer)'
2022-11-04 19:32:34.032 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7145/api/Auth/login application/json 53 - 200 - application/json;+charset=utf-8 74.8850ms
2022-11-04 19:33:28.800 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7145/api/Auth/login application/json 53
2022-11-04 19:33:28.802 +01:00 [INF] CORS policy execution successful.
2022-11-04 19:33:28.802 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.AuthController.Login (CarDealer)'
2022-11-04 19:33:28.802 +01:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(CarDealer.Domain.Auth.LoginDto) on controller CarDealer.Controllers.AuthController (CarDealer).
2022-11-04 19:33:28.816 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 19:33:28.818 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__req_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[LastName], [u].[PasswordHash], [u].[PasswordSalt], [u].[RefreshToken], [u].[Role], [u].[TokenCreated], [u].[TokenExpires], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__req_Username_0
2022-11-04 19:33:28.820 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [TokenExpires] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;
2022-11-04 19:33:28.821 +01:00 [INF] Executing OkObjectResult, writing value of type 'CarDealer.Models.Token'.
2022-11-04 19:33:28.821 +01:00 [INF] Executed action CarDealer.Controllers.AuthController.Login (CarDealer) in 19.0688ms
2022-11-04 19:33:28.821 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.AuthController.Login (CarDealer)'
2022-11-04 19:33:28.821 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7145/api/Auth/login application/json 53 - 200 - application/json;+charset=utf-8 21.4942ms
2022-11-04 19:34:17.457 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7145/api/Auth/Refresh application/json 485
2022-11-04 19:34:17.462 +01:00 [INF] CORS policy execution successful.
2022-11-04 19:34:17.468 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.AuthController.GetRefreshToken (CarDealer)'
2022-11-04 19:34:17.472 +01:00 [INF] Route matched with {action = "GetRefreshToken", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetRefreshToken(CarDealer.Models.Token) on controller CarDealer.Controllers.AuthController (CarDealer).
2022-11-04 19:34:17.475 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 19:34:17.479 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__token_RefreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[LastName], [u].[PasswordHash], [u].[PasswordSalt], [u].[RefreshToken], [u].[Role], [u].[TokenCreated], [u].[TokenExpires], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[RefreshToken] = @__token_RefreshToken_0
2022-11-04 19:34:17.482 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [TokenExpires] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;
2022-11-04 19:34:17.485 +01:00 [INF] Executing OkObjectResult, writing value of type 'CarDealer.Models.Token'.
2022-11-04 19:34:17.485 +01:00 [INF] Executed action CarDealer.Controllers.AuthController.GetRefreshToken (CarDealer) in 13.6268ms
2022-11-04 19:34:17.485 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.AuthController.GetRefreshToken (CarDealer)'
2022-11-04 19:34:17.485 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7145/api/Auth/Refresh application/json 485 - 200 - application/json;+charset=utf-8 29.5940ms
2022-11-04 19:35:19.296 +01:00 [INF] User profile is available. Using 'C:\Users\Filip\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-11-04 19:35:19.797 +01:00 [INF] Now listening on: https://localhost:7145
2022-11-04 19:35:19.797 +01:00 [INF] Now listening on: http://localhost:5145
2022-11-04 19:35:19.802 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-04 19:35:19.802 +01:00 [INF] Hosting environment: Development
2022-11-04 19:35:19.802 +01:00 [INF] Content root path: C:\Users\Work\source\repos\CarDealer\CarDealer\
2022-11-04 19:35:20.586 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/swagger/index.html - -
2022-11-04 19:35:20.927 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/swagger/index.html - - - 200 - text/html;charset=utf-8 346.9412ms
2022-11-04 19:35:21.040 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/_vs/browserLink - -
2022-11-04 19:35:21.040 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/_framework/aspnetcore-browser-refresh.js - -
2022-11-04 19:35:21.057 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/_framework/aspnetcore-browser-refresh.js - - - 200 11988 application/javascript;+charset=utf-8 17.5205ms
2022-11-04 19:35:21.076 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 36.3693ms
2022-11-04 19:35:21.209 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/swagger/v1/swagger.json - -
2022-11-04 19:35:21.417 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 207.9717ms
2022-11-04 19:35:41.409 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7145/api/Auth/login application/json 53
2022-11-04 19:35:41.416 +01:00 [INF] CORS policy execution successful.
2022-11-04 19:35:41.497 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.AuthController.Login (CarDealer)'
2022-11-04 19:35:41.518 +01:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(CarDealer.Domain.Auth.LoginDto) on controller CarDealer.Controllers.AuthController (CarDealer).
2022-11-04 19:35:42.693 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 19:35:43.601 +01:00 [INF] Executed DbCommand (64ms) [Parameters=[@__req_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[LastName], [u].[PasswordHash], [u].[PasswordSalt], [u].[RefreshToken], [u].[Role], [u].[TokenCreated], [u].[TokenExpires], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__req_Username_0
2022-11-04 19:35:43.984 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [TokenCreated] = @p1, [TokenExpires] = @p2
WHERE [Id] = @p3;
SELECT @@ROWCOUNT;
2022-11-04 19:35:44.016 +01:00 [INF] Executing OkObjectResult, writing value of type 'CarDealer.Models.Token'.
2022-11-04 19:35:44.026 +01:00 [INF] Executed action CarDealer.Controllers.AuthController.Login (CarDealer) in 2502.3157ms
2022-11-04 19:35:44.026 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.AuthController.Login (CarDealer)'
2022-11-04 19:35:44.035 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7145/api/Auth/login application/json 53 - 200 - application/json;+charset=utf-8 2626.1894ms
2022-11-04 19:36:11.947 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/api/CarManufacturer/GetAllMake - -
2022-11-04 19:36:12.055 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.CarManufacturerController.GetAllCarManufacturers (CarDealer)'
2022-11-04 19:36:12.056 +01:00 [INF] Route matched with {action = "GetAllCarManufacturers", controller = "CarManufacturer"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllCarManufacturers() on controller CarDealer.Controllers.CarManufacturerController (CarDealer).
2022-11-04 19:36:12.189 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 19:36:12.376 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Country], [c].[Make], [c0].[Id], [c0].[CarManufacturerId], [c0].[CarType], [c0].[Hp], [c0].[Make], [c0].[Model], [c0].[Seats], [c0].[Year]
FROM [CarManufacturers] AS [c]
LEFT JOIN [Cars] AS [c0] ON [c].[Id] = [c0].[CarManufacturerId]
ORDER BY [c].[Id]
2022-11-04 19:36:12.423 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarDealer.Models.CarManufacturer, CarDealer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-04 19:36:12.428 +01:00 [INF] Executed action CarDealer.Controllers.CarManufacturerController.GetAllCarManufacturers (CarDealer) in 372.5325ms
2022-11-04 19:36:12.428 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.CarManufacturerController.GetAllCarManufacturers (CarDealer)'
2022-11-04 19:36:12.429 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/api/CarManufacturer/GetAllMake - - - 200 - application/json;+charset=utf-8 482.0214ms
2022-11-04 19:36:41.629 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/api/Auth?name=filipr - -
2022-11-04 19:36:41.631 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.AuthController.GetRole (CarDealer)'
2022-11-04 19:36:41.632 +01:00 [INF] Route matched with {action = "GetRole", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetRole(System.String) on controller CarDealer.Controllers.AuthController (CarDealer).
2022-11-04 19:36:41.691 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 19:36:41.712 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[LastName], [u].[PasswordHash], [u].[PasswordSalt], [u].[RefreshToken], [u].[Role], [u].[TokenCreated], [u].[TokenExpires], [u].[Username]
FROM [Users] AS [u]
WHERE LOWER([u].[Username]) = @__ToLower_0
2022-11-04 19:36:41.712 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2022-11-04 19:36:41.713 +01:00 [INF] Executed action CarDealer.Controllers.AuthController.GetRole (CarDealer) in 80.0401ms
2022-11-04 19:36:41.713 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.AuthController.GetRole (CarDealer)'
2022-11-04 19:36:41.713 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/api/Auth?name=filipr - - - 200 - text/plain;+charset=utf-8 84.0310ms
2022-11-04 19:36:50.057 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7145/api/Auth/login application/json 53
2022-11-04 19:36:50.059 +01:00 [INF] CORS policy execution successful.
2022-11-04 19:36:50.059 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.AuthController.Login (CarDealer)'
2022-11-04 19:36:50.060 +01:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(CarDealer.Domain.Auth.LoginDto) on controller CarDealer.Controllers.AuthController (CarDealer).
2022-11-04 19:36:50.064 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 19:36:50.069 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__req_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[LastName], [u].[PasswordHash], [u].[PasswordSalt], [u].[RefreshToken], [u].[Role], [u].[TokenCreated], [u].[TokenExpires], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__req_Username_0
2022-11-04 19:36:50.164 +01:00 [ERR] Wrong login credentials.
2022-11-04 19:36:50.165 +01:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2022-11-04 19:36:50.165 +01:00 [INF] Executed action CarDealer.Controllers.AuthController.Login (CarDealer) in 105.1187ms
2022-11-04 19:36:50.165 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.AuthController.Login (CarDealer)'
2022-11-04 19:36:50.165 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7145/api/Auth/login application/json 53 - 400 - text/plain;+charset=utf-8 107.6574ms
2022-11-04 19:39:03.713 +01:00 [INF] User profile is available. Using 'C:\Users\Filip\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-11-04 19:39:04.153 +01:00 [INF] Now listening on: https://localhost:7145
2022-11-04 19:39:04.154 +01:00 [INF] Now listening on: http://localhost:5145
2022-11-04 19:39:04.158 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-04 19:39:04.158 +01:00 [INF] Hosting environment: Development
2022-11-04 19:39:04.158 +01:00 [INF] Content root path: C:\Users\Work\source\repos\CarDealer\CarDealer\
2022-11-04 19:39:04.959 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/swagger/index.html - -
2022-11-04 19:39:05.352 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/swagger/index.html - - - 200 - text/html;charset=utf-8 396.8021ms
2022-11-04 19:39:05.449 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/_vs/browserLink - -
2022-11-04 19:39:05.449 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/_framework/aspnetcore-browser-refresh.js - -
2022-11-04 19:39:05.467 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/_framework/aspnetcore-browser-refresh.js - - - 200 11988 application/javascript;+charset=utf-8 17.9388ms
2022-11-04 19:39:05.484 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 35.3237ms
2022-11-04 19:39:05.633 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7145/swagger/v1/swagger.json - -
2022-11-04 19:39:05.865 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7145/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 232.1601ms
2022-11-04 19:39:38.512 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7145/api/Auth/login application/json 63
2022-11-04 19:39:38.526 +01:00 [INF] CORS policy execution successful.
2022-11-04 19:39:38.609 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.AuthController.Login (CarDealer)'
2022-11-04 19:39:38.629 +01:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(CarDealer.Domain.Auth.LoginDto) on controller CarDealer.Controllers.AuthController (CarDealer).
2022-11-04 19:39:39.775 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 19:39:40.687 +01:00 [INF] Executed DbCommand (66ms) [Parameters=[@__req_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[LastName], [u].[PasswordHash], [u].[PasswordSalt], [u].[RefreshToken], [u].[Role], [u].[TokenCreated], [u].[TokenExpires], [u].[Username]
FROM [Users] AS [u]
WHERE ([u].[Username] = @__req_Username_0) OR ([u].[Email] = @__req_Username_0)
2022-11-04 19:39:41.057 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [TokenCreated] = @p1, [TokenExpires] = @p2
WHERE [Id] = @p3;
SELECT @@ROWCOUNT;
2022-11-04 19:39:41.089 +01:00 [INF] Executing OkObjectResult, writing value of type 'CarDealer.Models.Token'.
2022-11-04 19:39:41.097 +01:00 [INF] Executed action CarDealer.Controllers.AuthController.Login (CarDealer) in 2462.6673ms
2022-11-04 19:39:41.098 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.AuthController.Login (CarDealer)'
2022-11-04 19:39:41.109 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7145/api/Auth/login application/json 63 - 200 - application/json;+charset=utf-8 2596.3227ms
2022-11-04 19:39:45.667 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7145/api/Auth/login application/json 64
2022-11-04 19:39:45.670 +01:00 [INF] CORS policy execution successful.
2022-11-04 19:39:45.670 +01:00 [INF] Executing endpoint 'CarDealer.Controllers.AuthController.Login (CarDealer)'
2022-11-04 19:39:45.670 +01:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(CarDealer.Domain.Auth.LoginDto) on controller CarDealer.Controllers.AuthController (CarDealer).
2022-11-04 19:39:45.690 +01:00 [INF] Entity Framework Core 6.0.10 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.10' with options: None
2022-11-04 19:39:45.694 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__req_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[LastName], [u].[PasswordHash], [u].[PasswordSalt], [u].[RefreshToken], [u].[Role], [u].[TokenCreated], [u].[TokenExpires], [u].[Username]
FROM [Users] AS [u]
WHERE ([u].[Username] = @__req_Username_0) OR ([u].[Email] = @__req_Username_0)
2022-11-04 19:39:45.778 +01:00 [ERR] Wrong login credentials.
2022-11-04 19:39:45.778 +01:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2022-11-04 19:39:45.778 +01:00 [INF] Executed action CarDealer.Controllers.AuthController.Login (CarDealer) in 107.8667ms
2022-11-04 19:39:45.778 +01:00 [INF] Executed endpoint 'CarDealer.Controllers.AuthController.Login (CarDealer)'
2022-11-04 19:39:45.779 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7145/api/Auth/login application/json 64 - 400 - text/plain;+charset=utf-8 111.7741ms
